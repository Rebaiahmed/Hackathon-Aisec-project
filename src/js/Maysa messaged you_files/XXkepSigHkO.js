if (self.CavalryLogger) { CavalryLogger.start_js(["TutZ5"]); }

__d("CameraPostMediaCaptionComponent.react",["cx","CameraPostLongTextComponent.react","FBStoriesTextWithEntities.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("CameraPostLongTextComponent.react"),{lines:2,lineHeight:20,expandHandler:this.props.expandHandler,truncateHandler:this.props.truncateHandler,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,storyMetadata:this.props.currentThreadData,currentThreadData:this.props.currentThreadData,rootClassName:"_6r7j",boxClassName:"_6r7l",textClassName:"_6r7m",expandedRootClassName:"_6taa",buttonClassName:"_6r88",mediaCaption:!0},b("React").createElement(b("FBStoriesTextWithEntities.react"),{linkClassName:"_76_l",text:this.props.message.text,ranges:this.props.message.ranges,onLinkClick:this.props.onLinkClick,openWithSidePanel:this.props.openWithSidePanel}))};return c}(b("React").Component);e.exports=a}),null);
__d("CameraPostNFXToast.react",["ix","cx","Image.react","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return b("React").createElement("div",{className:"_618_",key:"toast"},b("React").createElement("div",{className:"_j71"},b("React").createElement(b("Image.react"),{src:g("415984")})),b("React").createElement(b("XUIText.react"),{className:"_4b4i"},(a=this.props.nfxPayload)!=null?(a=a.completed_title)!=null?a.text:a:a))};return c}(b("React").Component);e.exports=a}),null);
__d("CameraPostSendReplyContentButtons.react",["cx","fbt","ChatComposerFlyoutButtonBootLoader.react","ClickableArea.react","FBStoriesGatingConfig","JSResource","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("FBStoriesGatingConfig").replyButtonsEnabled;return!a?null:b("React").createElement("div",{className:"_2jcv"},this.$1(),this.$2(),this.$3())};d.$1=function(){var a=this,c={onSelect:this.props.onEmojiSelect,getInput:function(){return a.props.input}};return b("React").createElement(b("ClickableArea.react"),{onClick:this.props.onFocusInput},b("React").createElement("div",null,b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"emoji",interactionClassName:"_4ikx",flyoutAlignment:"left",iconClassName:"_3cgx _3cgy",flyoutLoader:b("JSResource")("ChatEmojiFlyout.react").__setRef("CameraPostSendReplyContentButtons.react"),dialogProps:{offsetY:10},flyoutProps:c,title:h._("Choose an emoji"),buttonName:"emoji"})))};d.$3=function(){var a={threadID:this.props.threadID,onStickerSelect:this.props.onStickerSelect},c={className:"_5e-r",position:"above"};return b("React").createElement(b("ClickableArea.react"),{onClick:this.props.onFocusInput},b("React").createElement("div",null,b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{flyoutProps:a,dialogProps:c,flyoutAlignment:"left",key:"sticker",interactionClassName:"_4ikx",iconClassName:"_3cgx _2jcw",flyoutLoader:b("JSResource")("StickersFlyoutWrapper.react").__setRef("CameraPostSendReplyContentButtons.react"),title:h._("Choose a sticker"),buttonName:"sticker"})))};d.$2=function(){var a={getQuery:function(){return null},onSelect:this.props.onGifSelect};return b("React").createElement(b("ClickableArea.react"),{onClick:this.props.onFocusInput},b("React").createElement("div",null,b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"gif",interactionClassName:"_4ikx",flyoutProps:a,flyoutAlignment:"left",iconClassName:"_3cgx _4iky",flyoutLoader:b("JSResource")("ChatContentSearchFlyoutWrapper.react").__setRef("CameraPostSendReplyContentButtons.react"),title:h._("Choose a gif"),buttonName:"gif"})))};return c}(b("React").Component);e.exports=a}),null);
__d("CameraPostSendReplyDraftEditor.react",["cx","fbt","CameraPostSendReplyContentButtons.react","CameraPostTypes","DraftEditor.react","EditorState","Image.react","React","addEmojiInput","addEmojiToEditorState","emptyFunction","getVisibleValueForContentStateWithMessengerEmoji"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("addEmojiInput")(b("DraftEditor.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={editorState:b("EditorState").createEmpty()},d.$2=function(a){d.setState({editorState:a})},d.$3=function(a,c){a=b("getVisibleValueForContentStateWithMessengerEmoji")(d.state.editorState.getCurrentContent());a.trim().length>0&&(d.props.onReplyEntered(a),d.resetState());return"handled"},d.$4=function(a){return d.$1=a},d.$5=function(a){var c=d.state.editorState;a=b("addEmojiToEditorState")(a,c);a!==d.state.editorState&&d.$2(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1!=null&&(this.props.focused===!0?this.$1.focus():this.$1.blur())};d.componentDidUpdate=function(a,b){this.$1!=null&&a.focused!==this.props.focused&&(this.props.focused===!0?this.$1.focus():this.$1.blur())};d.resetState=function(){var a=b("EditorState").createEmpty();this.setState({editorState:b("EditorState").moveFocusToEnd(a)})};d.render=function(){return b("React").createElement("div",{className:"_2dvt"},b("React").createElement("div",{className:"_2dv-"},b("React").createElement(b("Image.react"),{src:this.props.replyProfilePic,className:"_2dv_"})),b("React").createElement("div",{className:"_2dw0"},b("React").createElement("div",{className:"_3r4m draftEditor"},b("React").createElement(i,{editorState:this.state.editorState,handleReturn:this.$3,onChange:this.$2,onFocus:this.props.onFocusInput,placeholder:b("React").createElement("span",{className:"_2pid"},h._("Write a reply...")),ref:this.$4,spellCheck:!0,textAlignment:"left"})),b("React").createElement(b("CameraPostSendReplyContentButtons.react"),{input:this.$1,onEmojiSelect:this.$5,onFocusInput:this.props.onFocusInput,onGifSelect:this.props.onGifSelect,onReplyEntered:this.props.onReplyEntered,onStickerSelect:this.props.onStickerSelect,threadID:this.props.threadID})))};return c}(b("React").Component);a.defaultProps={onFocusInput:b("emptyFunction")};e.exports=a}),null);
__d("CameraPostSendingToast.react",["ix","cx","fbt","Image.react","React","XUIText.react","asset","fbglyph","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(){var a=b("gkx")("678253")?g("415984"):g("114797");return b("React").createElement("div",{className:"_618_",key:"toast"},b("React").createElement("div",{className:"_j71"},b("React").createElement(b("Image.react"),{src:a})),b("React").createElement(b("XUIText.react"),{className:"_4b4i"},i._("Reply Sent")))};e.exports=a}),null);
__d("XLiveVideoStoriesUIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_video/stories/ui/",{video_id:{type:"FBID",required:!0}})}),null);
__d("FBStoriesLiveVideoAPI",["AsyncRequest","XLiveVideoStoriesUIController"],(function(a,b,c,d,e,f){"use strict";a={loadUIComponents:function(a){a=b("XLiveVideoStoriesUIController").getURIBuilder().setFBID("video_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}};e.exports=a}),null);
__d("FBStoriesLiveVideoUIStore",["FBStoriesDispatcher","FBStoriesLiveVideoActionTypes","FBStoriesLiveVideoAPI","FBStoriesStore","FluxLoadObjectStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){switch(c.type){case b("FBStoriesLiveVideoActionTypes").SET_UI_COMPONENTS:b("FBStoriesDispatcher").waitFor([b("FBStoriesStore").getDispatchToken()]);return b("FBStoriesStore").getCurrentThreadMediaIDForSelectedBucket()===c.videoID?this.__handleOne(a,c.videoID,c.uiComponents):a;case b("FBStoriesLiveVideoActionTypes").REMOVE_UI_COMPONENTS:return this.__setEmpty(a,this.getState().keys());case b("FBStoriesLiveVideoActionTypes").LOAD_UI_COMPONENTS_FAILED:return this.__handleOne(a,c.videoID,new Error("Failed to load UI components"));default:return a}};d.__load=function(a){b("FBStoriesLiveVideoAPI").loadUIComponents(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("FBStoriesDispatcher"))}),null);
__d("FBStoriesMuteConfirmationDialog.react",["cx","fbt","CameraPostTypes","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=500;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.cameraPostType){case b("CameraPostTypes").PAGE_STORY:return h._("You'll stop seeing their story but can still see posts from this Page.");case b("CameraPostTypes").EVENT_STORY:return h._("You'll stop seeing this story but can still see event updates.");case b("CameraPostTypes").GROUP_STORY:return h._("You'll stop seeing this story but will stay in the group.")}return h._("You'll stop seeing their story but will remain friends.")};d.render=function(){return b("React").createElement(b("XUIDialog.react"),{width:i,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.props.hideAction},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Mute {bucket_owner_name}?",[h._param("bucket_owner_name",this.props.bucketOwnerName)])),b("React").createElement(b("XUIDialogBody.react"),null,this.$1()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:h._("Mute"),onClick:this.props.confirmAction}))))};return c}(b("React").Component);e.exports=a}),null);
__d("FBStoriesNFXConfirmationDialog.react",["React","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return b("React").createElement(b("XUIDialog.react"),{width:g,isStrictlyControlled:!0,onHide:this.props.hideAction,shown:this.props.shown},b("React").createElement(b("XUIDialogTitle.react"),null,(a=this.props.nfxPayload)!=null?(a=a.confirmation_header)!=null?a.text:a:a),b("React").createElement(b("XUIDialogBody.react"),null,(a=this.props.nfxPayload)!=null?(a=a.confirmation_message)!=null?a.text:a:a),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),b("React").createElement(b("XUIDialogOkayButton.react"),{action:"confirm",use:"confirm",onClick:this.props.confirmAction}))))};return c}(b("React").Component);e.exports=a}),null);
__d("FBStoriesReportToAdminConfirmationDialog.react",["cx","fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=500;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIDialog.react"),{width:i,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.props.hideAction},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Report to Group Admins")),b("React").createElement(b("XUIDialogBody.react"),null,this.$1(this.props.mediaType)),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:h._("Report to Admin"),onClick:this.props.confirmAction}))))};d.$1=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return h._("Are you sure you want to report this photo to the group admins?");case"VIDEO":return h._("Are you sure you want to report this video to the group admins?");default:return h._("Are you sure you want to report this to the group admins?")}};return c}(b("React").Component);e.exports=a}),null);
__d("FBStoriesCurrentThreadDataHelper",[],(function(a,b,c,d,e,f){"use strict";a={getCameraPostType:function(a){return(a=a)!=null?a.cameraPostType:a},getCameraPostMedia:function(a){return(a=a)!=null?a.media:a}};e.exports=a}),null);
__d("FBStoriesNuxHelper",["AsyncRequest","XBasicFBNuxGenShouldShowController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){"use strict";a={checkIfNuxShouldBeShown:function(a,c){a=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();a.should_show_nux&&c()}).send()},markNuxAsShown:function(a){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}};e.exports=a}),null);
__d("FBStoriesSingleBucketStoryDataHelper",["CameraPostGraphQLAPI","CurrentUser","FBStoriesActionTypes","FBStoriesBucketHelper","FBStoriesDispatcher","FBStoriesThreadHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBStoriesDispatcher").dispatch,h={getBucketDataFromLoadedObject:function(a,c){__p&&__p();var d,e,f,g;g=(g=a)!=null?g.node:g;if(!g)return null;f=(f=a)!=null?(f=f.node)!=null?f.camera_post_bucket_owner:f:f;if(!f)return null;e=b("CurrentUser").getID()===((e=a)!=null?(e=e.node)!=null?(e=e.camera_post_bucket_owner)!=null?e.id:e:e:e);d=(d=a)!=null?(d=d.node)!=null?(d=d.threads)!=null?d.nodes:d:d:d;if(!d)return null;c=h.getCurrentThreadIndex(a,c);var i=h.shouldDisableReply(a,d[c]);a=b("FBStoriesBucketHelper").isLive((a=a)!=null?a.node:a);var j=d.length,k=b("FBStoriesBucketHelper").isViewerGroupModerator(g)||b("FBStoriesBucketHelper").isViewerGroupAdmin(g),l=b("FBStoriesBucketHelper").isViewerPageContentAdmin(g),m=b("FBStoriesThreadHelper").getStoryOverlays(d[c]),n=a&&b("FBStoriesBucketHelper").hasLiveVideoEnded(g),o=b("FBStoriesThreadHelper").isReviewStatusPending(d[c]);return{bucket:g,bucketOwner:f,currentThreadIndex:c,isBucketLive:a,isThreadReviewStatusPending:o,isGroupAdminBucket:k,isPageAdminBucket:l,isOwnThread:e,isSelectedBucketLiveAndEnded:n,shouldDisableReply:i,threads:d,threadsCount:j,threadOverlays:m}},getCurrentThreadIndex:function(a,b){if(!b)return 0;a=(a=a)!=null?(a=a.node)!=null?(a=a.threads)!=null?a.nodes:a:a:a;if(!a)return 0;b=b.toString();return a.findIndex(function(a){return a.id===b})},shouldDisableReply:function(a,c){var d;d=(d=a)!=null?d.node:d;a=(a=a)!=null?(a=a.node)!=null?(a=a.camera_post_bucket_owner)!=null?a.id:a:a:a;a=b("CurrentUser").getID()===a;var e=b("FBStoriesBucketHelper").isViewerFriendOfOwner(d);c=b("FBStoriesThreadHelper").isViewerFriendOfOwner(c);return a||!e&&!c||b("FBStoriesBucketHelper").isLive(d)},getCurrentThreadData:function(a,c){return{activityDescription:b("FBStoriesThreadHelper").getActivityDescription(a),backdropImage:b("FBStoriesThreadHelper").getBackdropImage(a),bucketOwner:c,cameraPostSource:b("FBStoriesThreadHelper").getCameraPostSource(a),cameraPostType:b("FBStoriesThreadHelper").getCameraPostType(a),defaultBackground:b("FBStoriesThreadHelper").getDefaultBackground(a),explicitLocation:b("FBStoriesThreadHelper").getExplicitLocation(a),inlineActivities:b("FBStoriesThreadHelper").getInlineActivities(a),instagramProfileURL:b("FBStoriesThreadHelper").getInstagramProfileURL(a),isLive:!1,isPlainText:b("FBStoriesThreadHelper").getIsPlainText(a),isSeen:b("FBStoriesThreadHelper").isSeenByViewer(a),latestMessageID:b("FBStoriesThreadHelper").getLatestMessageID(a),linkAttachment:b("FBStoriesThreadHelper").getLinkAttachment(a),media:b("FBStoriesThreadHelper").getMedia(a),mediaBackground:b("FBStoriesThreadHelper").getMediaBackground(a),messageText:b("FBStoriesThreadHelper").getMessageText(a),messageRanges:b("FBStoriesThreadHelper").getMessageRanges(a),participants:[],textFormatMetadata:b("FBStoriesThreadHelper").getTextFormatMetadata(a),threadOwner:b("FBStoriesThreadHelper").getOwner(a)||{name:null,id:null,is_viewer_friend:!1,profile_picture:null},time:b("FBStoriesThreadHelper").getTime(a),threadID:b("FBStoriesThreadHelper").getId(a),originalPostStoryAttribution:b("FBStoriesThreadHelper").getOriginalPostStoryAttribution(a),withTags:b("FBStoriesThreadHelper").getWithTags(a),wwwTextFormatMetadata:b("FBStoriesThreadHelper").getWWWTextFormatMetadata(a),negativeFeedbackActions:b("FBStoriesThreadHelper").getNegativeFeedbackActions(a),delightRanges:b("FBStoriesThreadHelper").getDelightRanges(a),threadOverlays:b("FBStoriesThreadHelper").getStoryOverlays(a)}},getCurrentThreadViewers:function(a,c){__p&&__p();var d={hasNewViewers:!1,hasNewFriendViewers:!1,hasNewConnectionsViewers:!1,friends:[],connections:[],totalCount:0,totalNew:0,nonFriendsCount:0};if(!c)return d;c=b("FBStoriesThreadHelper").getViewers(a);var e=b("CurrentUser").getID(),f=b("FBStoriesThreadHelper").getReactionStickersReactors(a);d=c.reduce(function(c,d){__p&&__p();var g=b("FBStoriesThreadHelper").getStoryViewerId(d);if(!g)return c;if(g!==e){var h;h=((h=d)!=null?(h=h.node)!=null?h.is_viewer_friend:h:h)||!1;var i=h?"friends":"connections",j=b("FBStoriesThreadHelper").getStoryViewerSeenTime(d),k=b("FBStoriesThreadHelper").getStoryViewerReactions(d),l=j>=b("FBStoriesThreadHelper").getSeenReceiptsLastSeenTime(a);c[i].push(babelHelpers["extends"]({},d.node,{seenTime:j,isNewViewer:l,reactions:k,reactionStickers:f[g]}));c.totalNew+=l?1:0;c.hasNewViewers=c.hasNewViewers||l;c.hasNewFriendViewers=c.hasNewFriendViewers||l&&h;c.hasNewConnectionsViewers=c.hasNewViewers||l&&!h}return c},d);var g=b("FBStoriesThreadHelper").getNonFriendsSeenCount(a);return Object.assign(d,{totalCount:g+c.length,nonFriendsCount:g})},isUserManagedBucket:function(a,c){return c||b("FBStoriesBucketHelper").isViewerEventHost(a)||b("FBStoriesBucketHelper").isViewerPageContentAdmin(a)||b("FBStoriesBucketHelper").isViewerGroupModerator(a)||b("FBStoriesBucketHelper").isViewerGroupAdmin(a)},getAllowedNavigationType:function(a,b){var c=a===0;a=a===b-1;if(c)return"NEXT_ONLY";return a?"PREV_ONLY":"BOTH"},markCurrentThreadAsSeen:function(a,c){if(!c||c.isLive||!a)return;var d=c.latestMessageID,e=c.cameraPostType;c=c.threadID;g({type:b("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC,bucketID:a,threadID:c});b("CameraPostGraphQLAPI").markThreadSeen(b("CurrentUser").getID(),c,d,e)}};e.exports=h}),null);
__d("FBStoriesLightweightReactions.react",["cx","FBKeyframesProject","FBStoriesReactionAnimationConfig","FeedbackReactionType","Keyframes.react","React","ReactDOM","UFIReactionsMenuImpl.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[b("FeedbackReactionType").LIKE,b("FeedbackReactionType").LOVE,b("FeedbackReactionType").HAHA,b("FeedbackReactionType").WOW,b("FeedbackReactionType").SORRY,b("FeedbackReactionType").ANGER],i=(a={},a[b("FeedbackReactionType").LIKE]="\ud83d\udc4d",a[b("FeedbackReactionType").LOVE]="\u2764\ufe0f",a[b("FeedbackReactionType").HAHA]="\ud83d\ude06",a[b("FeedbackReactionType").WOW]="\ud83d\ude2e",a[b("FeedbackReactionType").SORRY]="\ud83d\ude22",a[b("FeedbackReactionType").ANGER]="\ud83d\ude21",a),j=150,k=150,l=1500;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectedReactionType:b("FeedbackReactionType").NONE},d.$1=null,d.$3=function(){if(d.props.isAnimating)return;d.props.onMouseEnter()},d.$4=function(){if(d.props.isAnimating)return;d.props.onMouseLeave()},d.$2=function(a){d.setState({selectedReactionType:a}),d.props.onReactionClick(i[a]),window.clearTimeout(d.$1),d.$1=window.setTimeout(function(){d.setState({selectedReactionType:b("FeedbackReactionType").NONE},function(){return d.props.onReactionEndAnimation()})},l)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("FBStoriesReactionAnimationConfig").uris[this.state.selectedReactionType];return b("React").createElement("div",{className:"_6jcz"},b("React").createElement("div",{className:"_6jc- uiContextualLayerParent"},b("React").createElement(b("UFIReactionsMenuImpl.react"),{allowKeyboardFocus:!1,semiTransparentBackground:!0,allowAnimationPlayback:!0,initialReaction:0,onMouseEnter:b("emptyFunction"),onMouseLeave:b("emptyFunction"),onReactionClick:this.$2,shown:!this.props.isAnimating,supportedReactions:h,instanceId:"",isLongPressing:!0,isScreenReader:!0,onBlur:b("emptyFunction"),onFocus:b("emptyFunction"),onReactionMouseEnter:this.$3,onReactionMouseLeave:this.$4})),this.state.selectedReactionType!==b("FeedbackReactionType").NONE?b("ReactDOM").createPortal(b("React").createElement(b("Keyframes.react"),{repeatCount:1,className:"_6jc_",source:a,projectName:b("FBKeyframesProject").FACEBOOK_STORIES,assetName:"reaction_type_"+this.state.selectedReactionType,height:j,width:k}),this.props.container):null)};d.componentWillUnmount=function(){window.clearTimeout(this.$1)};return c}(b("React").Component);e.exports=c}),null);
__d("FBStoriesOptimisticUploadLabel.react",["cx","fbt","React","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return b("React").createElement("div",{className:"_2m8x"},b("React").createElement(b("XUISpinner.react"),{className:"_2m8y",size:"large"})," ",b("React").createElement(b("XUIText.react"),{color:"primary",palette:"dark",size:"header4",weight:"normal"},h._("Uploading...")))};e.exports=a}),null);
__d("FBStoryLiveSidePane.react",["ix","cx","fbt","Arbiter","AsyncRequest","DOMContainer.react","FRXURI","Image.react","Link.react","NFXStoryLocation","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","Style","SubscriptionsHandler","UFIUIEvents","XUINotice.react","XUISpinner.react","fbglyph","queryThenMutateDOM"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactXUIMenu").Item,k=50,l=function(a){if(a.isOwnBucket)return null;var c=a.isLiveAudio?i._("Report live audio"):i._("Report live video");a=b("React").createElement(b("ReactXUIMenu"),null,b("React").createElement(j,{onclick:a.reportLiveVideo},c));return b("React").createElement(b("PopoverMenu.react"),{alignh:"right",className:"_1q41",menu:a},b("React").createElement(b("Link.react"),{href:"#","aria-label":i._("More")},b("React").createElement(b("Image.react"),{src:g("125399")})))};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$7=function(a){d.$3=a};d.$8=function(){var a=d.props.liveVideoData;a=a&&a.media.id;a=b("FRXURI").withEntReportable({reportable_ent_token:a,story_location:b("NFXStoryLocation").DIRECT_MESSAGING});new(b("AsyncRequest"))().setURI(a).send()};d.$1=!1;d.$3=null;d.$4=0;return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(b("Arbiter").subscribe(b("UFIUIEvents").Changed,function(b,c){b=a.props.uiComponents.getValue();b&&b.ufi===c.form&&a.$5()}),b("Arbiter").subscribe("pre_page_transition",function(){a.props.onDone()}));this.$1=!1;this.$5()};d.UNSAFE_componentWillReceiveProps=function(a){if((a.isSelectedBucketLiveAndEnded||!a.liveVideoData)&&this.$3){a=this.$3.getDOMChild();this.$6(a)}};d.componentWillUnmount=function(){this.$2&&this.$2.release(),this.$1=!1};d.$6=function(a){for(var c=0;c<a.children.length;c++)this.$6(a.children[c]);b("ReactDOM").unmountComponentAtNode(a)};d.$5=function(){var a=this,c=this.props.uiComponents.getValue(),d=c?c.ufiScrollableArea:null;if(!d)return;var e=0;b("queryThenMutateDOM")(function(){e=parseFloat(b("Style").get(d,"height"))},function(){var b=a.$4-(d.scrollTop+e);(!a.$1||b<k)&&(d.scrollTop=d.scrollHeight,a.$1=!0);a.$4=d.scrollHeight})};d.render=function(){__p&&__p();var a=this.props.liveVideoData;if(!a||this.props.isSelectedBucketLiveAndEnded)return null;var c,d=this.props.uiComponents,e=d.getValue();d.getError()?c=b("React").createElement(b("XUINotice.react"),{className:"_3-8i",use:"recommend"},i._("Something went wrong, please try again.")):e?c=b("React").createElement(b("DOMContainer.react"),null,e.topSection):c=b("React").createElement("div",{className:"_2n_f"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));var f=e?b("React").createElement(b("DOMContainer.react"),{className:"_4b4k _39yn",display:"block",ref:this.$7},e.ufi):null;e=e?b("React").createElement(b("DOMContainer.react"),null,e.reactionsMenu):null;a=a.media;var g=a.height<a.width;return b("React").createElement("div",null,b("React").createElement("div",{className:this.props.isCommercialBreakRunning?"_4dlh":""}),b("React").createElement("div",{className:"_3g-3"+(g?" _6291":"")+(this.props.isCommercialBreakRunning?" _4dlk":"")},b("React").createElement("div",{className:"_4b4l"},d.getError()?null:b("React").createElement(l,{isLiveAudio:a.is_live_audio_format,isOwnBucket:this.props.isOwnBucket,reportLiveVideo:this.$8}),c,f),b("React").createElement("div",{className:"_1dbt"},b("React").createElement("div",{className:"_1dbu"},e))))};return c}(b("React").Component);e.exports=a}),null);
__d("FBStoryLiveSidePaneContainer.react",["FBStoriesDispatcher","FBStoriesLiveVideoUIStore","FBStoriesStore","FBStoryLiveSidePane.react","FluxContainer","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isCommercialBreakRunning:!1,isOwnBucket:!1,isSelectedBucketLiveAndEnded:!1,liveVideoData:null,uiComponents:b("LoadObject").empty()};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;b("FBStoriesDispatcher").explicitlyRegisterStores([b("FBStoriesLiveVideoUIStore")]);return c}c.getStores=function(){return[b("FBStoriesStore"),b("FBStoriesLiveVideoUIStore")]};c.calculateState=function(a){a=b("FBStoriesStore").getThreadDataForSelectedLiveBucket();if(!a)return g;var c=b("FBStoriesStore").isOwnBucket(),d=b("FBStoriesStore").isSelectedBucketLiveAndEnded(),e=a.media.id,f=b("FBStoriesLiveVideoUIStore").get(e);e=b("FBStoriesStore").getIsCommercialBreakRunning(e);return{isOwnBucket:c,isSelectedBucketLiveAndEnded:d,liveVideoData:a,uiComponents:f,isCommercialBreakRunning:e}};var d=c.prototype;d.render=function(){return b("React").createElement(b("FBStoryLiveSidePane.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("FBStoryThreadGroupAdminNux.react",["ix","cx","fbt","FBStoriesNuxHelper","GroupView","Image.react","LayerFadeOnShow","PageTransitions","React","XGroupsController","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=400,k=5659;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("FBStoriesNuxHelper").markNuxAsShown(k),d.props.onClose()},d.$2=function(){d.$1();d.props.onNavigateToGroupSettings();var a=b("XGroupsController").getURIBuilder().setString("idorvanity",d.props.groupID).setEnum("view",b("GroupView").EDIT).setExists("stories",!0).getURI();b("PageTransitions").go(a)},c)||babelHelpers.assertThisInitialized(d)}c.nuxID=function(){return k};var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnShow:b("LayerFadeOnShow")},width:j,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.$1,titleID:"group-nux-header"},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{id:"group-nux-header",height:j*.4,width:j,src:g("477001")}),b("React").createElement(b("XUICloseButton.react"),{className:"layerCancel _51-t _43we"})),b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",{className:"_43wf"},i._("Welcome to Your Group's Story")),b("React").createElement("p",null,i._("Now group members can contribute to a single shared story.")),b("React").createElement("p",null,i._("Photos and videos disappear from your group after 24 hours, and admins can always control what gets added."))),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:i._("View Settings"),onClick:this.$2}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:i._("OK"),onClick:this.$1}))))};return c}(b("React").Component);e.exports=a}),null);
__d("FBStoryThreadTagsSidePane.react",["ix","cx","fbt","FBStorySidePaneUserList.react","FBStorySidePaneSectionHeader.react","FBStorySidePaneSectionPadding.react","Image.react","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_434n"},b("React").createElement(b("FBStorySidePaneSectionHeader.react"),null,b("React").createElement("span",{className:"_2qy7"},b("React").createElement(b("Image.react"),{className:"_2qy8",src:g("512616")}),b("React").createElement("span",{className:"_2qy9"},i._("With"))),b("React").createElement(b("ShimButton.react"),{onClick:this.props.closeWithTagPane},b("React").createElement(b("Image.react"),{className:"_2qya",src:g("489953")}))),b("React").createElement(b("FBStorySidePaneSectionPadding.react"),null),b("React").createElement("div",{className:"_434o"},b("React").createElement(b("FBStorySidePaneUserList.react"),{data:this.props.tags.map(function(a){return a.node}),poll:null})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBStoryWarningScreenButton.react",["ix","cx","Button.react","Image.react","React","WarningScreenEventName","WarningScreenEventsTypedLogger","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a,c=this.props.media.id;new(b("WarningScreenEventsTypedLogger"))().setName(b("WarningScreenEventName").WARNING_SCREEN_LOADED).setContentID((a=c)!=null?a:"0").setContentLocation("story").setIsThumbnail(0).log();new(b("WarningScreenEventsTypedLogger"))().setName(b("WarningScreenEventName").WARNING_SCREEN_VISIBLE).setContentID((a=c)!=null?a:"0").setContentLocation("story").setIsThumbnail(0).log()};d.render=function(){__p&&__p();var a=this,c=this.props.media,d=c.id;c=c.objectionable_content_info?c.objectionable_content_info:null;c=c?c.strings:null;var e=c==null?void 0:c.uncover_media_link;c=c==null?void 0:c.blur_title;var f=function(c){c.stopPropagation();c.preventDefault();new(b("WarningScreenEventsTypedLogger"))().setName(b("WarningScreenEventName").WARNING_SCREEN_UNCOVER_TAPPED).setContentID((c=d)!=null?c:"0").setContentLocation("story").setIsThumbnail(0).log();a.props.onClick&&a.props.onClick()};return e==null?null:b("React").createElement("div",{className:"_6wlv"},c!=null?b("React").createElement("div",{className:"_3-8o"},b("React").createElement(b("XUIText.react"),{size:"header4",color:"white",display:"block",weight:"bold"},c)):null,b("React").createElement(b("Button.react"),{className:"_6wlw",image:b("React").createElement(b("Image.react"),{className:"_6wlx",src:g("532618")}),label:e,onClick:f}))};return c}(b("React").Component);e.exports=a}),null);
__d("FBStoryWarningScreenMediaDescription.react",["cx","Link.react","React","XUIText.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){a=a.media.objectionable_content_info?a.media.objectionable_content_info:null;var c=a&&a.categories;a=a?a.strings:null;var d=a==null?void 0:a.show_media_desc;if(b("gkx")("721298")||!c||d==null||c.indexOf("CHILD_ABUSE_NON_SEXUAL")===-1)return null;c=a==null?void 0:a.learn_more_desc;a=a==null?void 0:a.learn_more_uri;return b("React").createElement("div",{className:"_6wm2"},b("React").createElement(b("XUIText.react"),{size:"body1",color:"white",display:"block"},d),a!=null&&c!=null?b("React").createElement(b("XUIText.react"),{size:"header4",color:"white",display:"block",weight:"bold"},b("React").createElement(b("Link.react"),{href:a,target:"_blank",className:"_6wm3"},c)):null)}e.exports=a}),null);
__d("GroupAdminActivityRemoveUserWithOtherOptionsMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"GroupRemoveUserWithOtherOptionsInputData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"group_remove_user_with_other_options",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"GroupRemoveUserWithOtherOptionsResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"content_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_success",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"GroupAdminActivityRemoveUserWithOtherOptionsMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"GroupAdminActivityRemoveUserWithOtherOptionsMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"GroupAdminActivityRemoveUserWithOtherOptionsMutation",id:"2313390192009772",text:null,metadata:{}}}}();e.exports=a}),null);
__d("GroupAdminActivityRemoveUserWithOtherOptionsMutation",["RelayModern","GroupAdminActivityRemoveUserWithOtherOptionsMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("GroupAdminActivityRemoveUserWithOtherOptionsMutation.graphql")};function a(a,b,c,d){return g(a,{mutation:h,variables:{input:{group_id:b.groupID,content_id:b.contentID,content_owner_id:b.contentOwnerID,actor_id:b.actorID,client_mutation_id:b.clientMutationID,should_apply_to_other_groups:b.shouldApplyToOtherGroups,should_block_user:b.shouldBlockUser,should_delete_recent_comments:b.shouldDeleteRecentComments,should_delete_recent_pending_invites:b.shouldDeleteRecentPendingInvites,should_delete_recent_polls:b.shouldDeleteRecentPolls,should_delete_recent_posts:b.shouldDeleteRecentPosts,should_delete_recent_story_threads:b.shouldDeleteRecentStoryThreads}},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"canViewerModerate",type:"Boolean",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"userID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"groups",storageKey:null,args:[{kind:"Variable",name:"can_viewer_moderate",variableName:"canViewerModerate"}],concreteType:"GroupsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GroupsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}]};return{kind:"Request",fragment:{kind:"Fragment",name:"GroupsSpamSniperDialogLinkedGroupsDataQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[d]}]},operation:{kind:"Operation",name:"GroupsSpamSniperDialogLinkedGroupsDataQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[d,c]}]},params:{operationKind:"query",name:"GroupsSpamSniperDialogLinkedGroupsDataQuery",id:"1815487968536527",text:null,metadata:{}}}}();e.exports=a}),null);
__d("GroupsSpamSniperDialogType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMMENT:"comment",POST:"post",STORY:"story"})}),null);
__d("GroupsSpamSniperDialog.react",["cx","fbt","FDSCheckboxInput.maintenance.react","GroupsSpamSniperDialogType","React","RelayFBEnvironment","RelayModern","Tooltip.react","XUIText.react","joinClasses","GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=function(){return b("GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql")},k=20;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isApplyToOtherGroupsSelected:!1,isDeclinePendingInviteSelected:!1,isDeleteCommentSelected:!1,isDeletePollSelected:!1,isDeletePostSelected:!1,isDeleteStorySelected:!1},c.updateApplyToOtherGroupsStatus=function(){c.props.updateApplyToOtherGroupsStatus(),c.setState(function(a){return{isApplyToOtherGroupsSelected:!a.isApplyToOtherGroupsSelected}})},c.updateDeclinePendingInviteStatus=function(){c.props.updateDeclinePendingInviteStatus(),c.setState(function(a){return{isDeclinePendingInviteSelected:!a.isDeclinePendingInviteSelected}})},c.updateDeleteCommentStatus=function(){c.props.updateDeleteCommentStatus(),c.setState(function(a){return{isDeleteCommentSelected:!a.isDeleteCommentSelected}})},c.updateDeletePollStatus=function(){c.props.updateDeletePollStatus(),c.setState(function(a){return{isDeletePollSelected:!a.isDeletePollSelected}})},c.updateDeletePostStatus=function(){c.props.updateDeletePostStatus(),c.setState(function(a){return{isDeletePostSelected:!a.isDeletePostSelected}})},c.updateDeleteStoryStatus=function(){c.props.updateDeleteStoryStatus(),c.setState(function(a){return{isDeleteStorySelected:!a.isDeleteStorySelected}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getDeletePostContext=function(){return b("React").createElement("div",{className:"_6tdh"},h._("Delete {Story thread owner name}'s posts from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};d.getDeleteCommentContext=function(){return b("React").createElement("div",{className:"_6tdh"},h._("Delete {Story thread owner name}'s comments from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};d.getDeleteStoryContext=function(){return b("React").createElement("div",{className:"_6tdh"},h._("Delete {Story thread owner name}'s stories from the last 24 hours",[h._param("Story thread owner name",this.props.contentOwnerName)]))};d.getDeletePollContext=function(){return b("React").createElement("div",{className:"_6tdh"},h._("Delete {Story thread owner name}'s poll options from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};d.getDeclinePendingInviteContext=function(){return b("React").createElement("div",{className:"_6tdh"},h._("Decline any pending members invited by {Story thread owner name} in the last 7 days.",[h._param("Story thread owner name",this.props.contentOwnerName)]))};d.getApplyToOtherGroupsContext=function(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_6tdh"},h._("Apply these changes to other groups you manage or moderate.")),b("React").createElement("div",{className:"_6tdi _6tdh"},h._("{comment author name} will be removed from {group names}.",[h._param("comment author name",this.props.contentOwnerName),h._param("group names",a)])))};d.getLinkedGroupsData=function(a){__p&&__p();var b=this;a=((a=a)!=null?(a=a.groups)!=null?a.edges:a:a)||[];a=a.filter(function(a){return a.node.id!==b.props.groupID});var c=a.length,d="";a=a.filter(function(a){return a.node.id!==b.props.groupID}).map(function(a){return a.node.name});if(c){if(c>k){var e=c-k;a=a.slice(0,k);a.push(h._({"*":"and {truncated group names number} more..."},[h._param("truncated group names number",e,[0])]))}d=a.join("\n")}return{otherGroupsCount:c,otherGroupsText:d}};d.renderApplyToOtherGroupsElement=function(a){a=this.getLinkedGroupsData(a);var c=a.otherGroupsCount;a=a.otherGroupsText;if(!c)return null;c>1?c=b("React").createElement("span",{className:"_6tdj"},b("React").createElement(b("Tooltip.react"),{tooltip:a},c," other groups")):c=b("React").createElement(b("XUIText.react"),{weight:"bold"},a);return b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:this.getApplyToOtherGroupsContext(c),onChange:this.updateApplyToOtherGroupsStatus,value:this.state.isApplyToOtherGroupsSelected}))};d.getApplyToOtherGroupsElement=function(){var a=this;return!this.props.shouldShowApplyToOtherGroups?null:b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:j,variables:{userID:this.props.contentOwnerID,canViewerModerate:!0},render:function(b){var c=b.error;b=b.props;return c||!b?null:a.renderApplyToOtherGroupsElement(b.user)}})};d.render=function(){var a=this.props.shouldShowDeleteStory?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:this.getDeleteStoryContext(),onChange:this.updateDeleteStoryStatus,value:this.state.isDeleteStorySelected})):null,c=this.props.shouldShowDeletePost?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:this.getDeletePostContext(),onChange:this.updateDeletePostStatus,value:this.state.isDeletePostSelected})):null,d=this.props.shouldShowDeleteComment?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:this.getDeleteCommentContext(),onChange:this.updateDeleteCommentStatus,value:this.state.isDeleteCommentSelected})):null,e=this.props.shouldShowDeletePoll?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:this.getDeletePollContext(),onChange:this.updateDeletePollStatus,value:this.state.isDeletePollSelected})):null,f=this.props.shouldShowDeclinePendingInvite?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:this.getDeclinePendingInviteContext(),onChange:this.updateDeclinePendingInviteStatus,value:this.state.isDeclinePendingInviteSelected})):null,g=this.getApplyToOtherGroupsElement(),h=this.props.spamSniperDialogType;switch(h){case b("GroupsSpamSniperDialogType").POST:return b("React").createElement("div",{className:b("joinClasses")(this.props.className)},c,d,a,e,f,g);case b("GroupsSpamSniperDialogType").COMMENT:return b("React").createElement("div",{className:b("joinClasses")(this.props.className)},d,c,a,e,f,g);case b("GroupsSpamSniperDialogType").STORY:return b("React").createElement("div",{className:b("joinClasses")(this.props.className)},a,c,d,e,f,g);default:return b("React").createElement(b("React").Fragment,null)}};return c}(b("React").Component);e.exports=a}),null);
__d("GroupsRemoveUserWithOtherOptionsDialog.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSCheckboxInput.maintenance.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","GroupAdminActivityRemoveUserWithOtherOptionsMutation","GroupsSpamSniperDialog.react","GroupsSpamSniperDialogType","LayerFadeOnHide","React","RelayFBEnvironment","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isApplyToOtherGroupsSelected:!1,isBlockMemberSelected:!1,isDeclinePendingInviteSelected:!1,isDeleteCommentSelected:!1,isDeletePollSelected:!1,isDeletePostSelected:!1,isDeleteStorySelected:!1,isErrorDialogShown:!1},c.updateDeclinePendingInviteStatus=function(){c.setState(function(a){return{isDeclinePendingInviteSelected:!a.isDeclinePendingInviteSelected}})},c.updateDeleteCommentStatus=function(){c.setState(function(a){return{isDeleteCommentSelected:!a.isDeleteCommentSelected}})},c.updateDeletePollStatus=function(){c.setState(function(a){return{isDeletePollSelected:!a.isDeletePollSelected}})},c.updateDeletePostStatus=function(){c.setState(function(a){return{isDeletePostSelected:!a.isDeletePostSelected}})},c.updateDeleteStoryStatus=function(){c.setState(function(a){return{isDeleteStorySelected:!a.isDeleteStorySelected}})},c.updateBlockMemberStatus=function(){c.setState(function(a){return{isBlockMemberSelected:!a.isBlockMemberSelected}})},c.updateApplyToOtherGroupsStatus=function(){c.setState(function(a){return{isApplyToOtherGroupsSelected:!a.isApplyToOtherGroupsSelected}})},c.onConfirm=function(){c.removeUserAndContent(),c.props.onConfirm()},c.onHide=function(){c.props.onHide()},c.onHideErrorDialog=function(){c.setState({isErrorDialogShown:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.removeUserAndContent=function(){var a=this;b("GroupAdminActivityRemoveUserWithOtherOptionsMutation").commit(b("RelayFBEnvironment"),{groupID:this.props.groupID,contentID:this.props.contentID,contentOwnerID:this.props.contentOwnerID,actorID:this.props.actorID,clientMutationID:this.props.clientMutationID,shouldApplyToOtherGroups:this.state.isApplyToOtherGroupsSelected,shouldBlockUser:this.state.isBlockMemberSelected,shouldDeleteRecentComments:this.state.isDeleteCommentSelected,shouldDeleteRecentPendingInvites:this.state.isDeclinePendingInviteSelected,shouldDeleteRecentPolls:this.state.isDeletePollSelected,shouldDeleteRecentPosts:this.state.isDeletePostSelected,shouldDeleteRecentStoryThreads:this.state.isDeleteStorySelected},function(){},function(){a.setState({isErrorDialogShown:!0})})};d.getBlockMemberContext=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIText.react"),{size:"header4",display:"block",headingLevel:3,weight:"normal",className:"_6tdh"},h._("Block Member")),b("React").createElement(b("XUIText.react"),{className:"_6tdi _6tdh",size:"meta1",display:"block",weight:"normal",headingLevel:3},h._("{comment author name} won't be able to find, see or join this group.",[h._param("comment author name",this.props.contentOwnerName)])))};d.getDialogTitle=function(){var a=this.props.spamSniperDialogType;switch(a){case b("GroupsSpamSniperDialogType").COMMENT:return h._("Delete Comment and Block Member?");case b("GroupsSpamSniperDialogType").POST:return h._("Delete Post and Block Member?");case b("GroupsSpamSniperDialogType").STORY:return h._("Delete Story and Block Member?");default:return""}};d.render=function(){var a=this.props.shouldShowBlockMember?b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:this.getBlockMemberContext(),onChange:this.updateBlockMemberStatus,value:this.state.isBlockMemberSelected}):null,c=this.getDialogTitle();return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},label:"Delete Story and Block Member?",header:b("React").createElement(b("FDSModalHeader.react"),{title:c}),footer:b("React").createElement(b("FDSModalFooter.react"),{leftContent:a,primaryButton:b("React").createElement(b("FDSButton.react"),{label:"Confirm",use:"primary",onClick:this.onConfirm}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),null)}),isShown:this.props.shouldShowDialog,onHide:this.onHide},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("GroupsSpamSniperDialog.react"),{contentID:this.props.contentID,contentOwnerID:this.props.contentOwnerID,contentOwnerName:this.props.contentOwnerName,groupID:this.props.groupID,updateApplyToOtherGroupsStatus:this.updateApplyToOtherGroupsStatus,updateDeclinePendingInviteStatus:this.updateDeclinePendingInviteStatus,updateDeleteCommentStatus:this.updateDeleteCommentStatus,updateDeletePollStatus:this.updateDeletePollStatus,updateDeletePostStatus:this.updateDeletePostStatus,updateDeleteStoryStatus:this.updateDeleteStoryStatus,shouldShowApplyToOtherGroups:this.props.shouldShowApplyToOtherGroups,shouldShowDeclinePendingInvite:this.props.shouldShowDeclinePendingInvite,shouldShowDeleteComment:this.props.shouldShowDeleteComment,shouldShowDeletePoll:this.props.shouldShowDeletePoll,shouldShowDeletePost:this.props.shouldShowDeletePost,shouldShowDeleteStory:this.props.shouldShowDeleteStory,spamSniperDialogType:this.props.spamSniperDialogType}))),b("React").createElement(b("FDSModal.react"),{label:"Error Dialog",header:b("React").createElement(b("FDSModalHeader.react"),{title:h._("Delete Failed")}),footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:"OK",use:"primary",onClick:this.onHideErrorDialog})}),isShown:this.state.isErrorDialogShown,onHide:this.onHideErrorDialog},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSText.react"),{size:"header4"},h._("Something went wrong, please try again.")))))};return c}(b("React").Component);e.exports=a}),null);
__d("FBStoryThread.react",["ix","cx","fbt","CameraPostBucketOwnerHelper","CameraPostDeletedToast.react","CameraPostGraphQLAPI","CameraPostMedia.react","CameraPostMediaCaptionComponent.react","CameraPostMediaHelper","CameraPostNFXToast.react","CameraPostOwnerView.react","CameraPostReportButton.react","CameraPostSendingToast.react","CameraPostSendReplyDraftEditor.react","CameraPostTypesHelper","CurrentUser","Event","FBStoriesActions","FBStoriesDeleteConfirmationDialog.react","FBStoriesFooterMetadataRenderer.react","FBStoriesGatingConfig","FBStoriesInteractiveFeedbackOverlay.react","FBStoriesLightweightReactions.react","FBStoriesLinkRenderer.react","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesMuteConfirmationDialog.react","FBStoriesNFXConfirmationDialog.react","FBStoriesNuxHelper","FBStoriesOptimisticUploadLabel.react","FBStoriesReportToAdminConfirmationDialog.react","FBStoriesViewerEntrypoint","FBStoriesViewersAnchor.react","FBStoryLiveSidePaneContainer.react","FBStoryThreadGroupAdminNux.react","FBStoryThreadTagsSidePane.react","FBStoryThreadViewers.react","FBStoryWarningScreenButton.react","FBStoryWarningScreenMediaDescription.react","Focus","GroupFBStoriesGatingConfig","GroupsRemoveUserWithOtherOptionsDialog.react","GroupsSpamSniperDialogType","GroupsStoriesAdminConfig","GroupView","Image.react","ImagePositioner.react","Keys","LineClamp.react","Locale","PageTransitions","React","ReactCSSTransitionGroup","ReactMenu","ShimButton.react","Visibility","XGroupsController","XUIButton.react","asset","createCancelableFunction","emptyFunction","fbglyph","getActiveElement","gkx","promiseDone","SegmentedProgressBar.react","clearTimeout","setTimeout","XUISpinner.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactMenu").Item,k={enter:"_1gs8",enterActive:"_1gs9",leave:"_1gsa",leaveActive:"_1gsc"},l=Object.freeze({PREV:"prev",NEXT:"next",STAY_HERE:"stay_here"}),m=.3,n=1e3,o=200,p=1e3,q=200,r=200,s=200,t=500,u=500,v=1e3,w={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=[];d.state={isPaused:!1,isPausedByDev:!1,isReplyFocused:!1,navDirectionOnClick:l.STAY_HERE,isShowingSendingToast:!1,isShowingDeletedToast:!1,isShowingNFXToast:!1,isTextInMediaComponentOverflow:!1,showPausedOverlay:!1,showDarkWashOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1,isDeleteConfirmationDialogShown:!1,isMuteConfirmationDialogShown:!1,isGroupAdminNuxShown:!1,isReactionSendInProgress:!1,isReportToAdminConfirmationDialogShown:!1,isWithPanelShown:!1,isNFXConfirmationDialogShown:!1,selectedNFX:null,isDeleteStoryAndRemoveUserDialogShown:!1,showWarningScreen:!!d.props.currentThreadData&&b("CameraPostMediaHelper").hasObjectionableContent(d.props.currentThreadData.media)};d.$13=!1;d.$23=function(a){a!==d.$5&&(a&&(b("Event").listen(a,"keydown",function(a){return d.$79(a)},b("Event").Priority.URGENT),b("Event").listen(a,"keyup",function(a){return d.$80(a)},b("Event").Priority.URGENT),a.focus())),d.$5=a};d.$43=function(){d.$14(!1,!0),d.$9=!0};d.$44=function(){!d.$8&&!d.state.isReplyFocused&&!d.state.isViewersPanelShown&&d.$15(),d.$8=!1,d.$9=!1};d.$45=function(){d.setState({isPausedByDev:!0}),d.$14()};d.$81=function(){if(!d.props.canOpenCurrentThreadViewerSheet)return;var a=!d.state.isViewersPanelShown;d.setState({isViewersPanelShown:a,isWithPanelShown:!1});a&&d.$22();d.$9||(a?d.$14(!1,!0):d.$15())};d.$56=function(){d.setState({isWithPanelShown:!0,isViewersPanelShown:!1}),d.$9||d.$14(!1,!0)};d.$57=function(a){d.$9||d.$14(!1,!0),a.stopPropagation()};d.$60=function(a){d.$9||d.$14(!1,!1),a.stopPropagation()};d.$82=function(a){d.$9||(d.$14(!1,!1),d.setState({showDarkWashOverlay:!0})),a.stopPropagation()};d.$61=function(a){d.$9||d.$15(),a.stopPropagation()};d.$74=function(){d.setState({isWithPanelShown:!1}),d.$9||d.$15()};d.$46=function(){d.$8=!0,d.$14(!1,!0)};d.$47=function(){if(d.state.isPaused)return;d.$14(!1,!0)};d.$29=function(){d.setState({isDeleteConfirmationDialogShown:!0})};d.$68=function(){d.setState({isDeleteConfirmationDialogShown:!1})};d.$67=function(){d.setState({isDeleteConfirmationDialogShown:!1}),d.$83()};d.$32=function(){d.setState({isDeleteStoryAndRemoveUserDialogShown:!0})};d.$50=function(){d.setState({isDeleteStoryAndRemoveUserDialogShown:!1})};d.$49=function(){d.setState({isDeleteStoryAndRemoveUserDialogShown:!1}),d.$83()};d.$35=function(){d.setState({isMuteConfirmationDialogShown:!0})};d.$69=function(){d.setState({isMuteConfirmationDialogShown:!1})};d.$70=function(){d.setState({isMuteConfirmationDialogShown:!1}),d.props.onMuteBucketOwner()};d.$38=function(){d.setState({isReportToAdminConfirmationDialogShown:!0})};d.$73=function(){d.setState({isReportToAdminConfirmationDialogShown:!1})};d.$72=function(){d.setState({isReportToAdminConfirmationDialogShown:!1}),d.props.onReportCurrentThreadToAdmin()};d.$85=function(){d.setState({isNFXConfirmationDialogShown:!1,selectedNFX:null})};d.$86=function(){var a;a=(a=d.state.selectedNFX)!=null?a.id:a;a&&(d.props.onTakeNegativeFeedbackAction(a),d.$87(v));d.setState({isNFXConfirmationDialogShown:!1});d.$15()};d.$26=function(){if(!d.props.currentThreadData)return;var a=d.props.currentThreadData.bucketOwner;a=b("CameraPostBucketOwnerHelper").getId(a);if(!a)return;d.props.onCloseRequested();a=b("XGroupsController").getURIBuilder().setString("idorvanity",a).setEnum("view",b("GroupView").PENDING_STORIES).getURI();b("PageTransitions").go(a)};d.$59=function(){d.$88("auto_jump")};d.$92=b("createCancelableFunction")(function(){d.setState({isShowingSendingToast:!1})});d.$91=b("createCancelableFunction")(function(a){d.setState({isShowingSendingToast:!0},function(){d.$10=b("setTimeout")(function(){d.$10=void 0,d.$92()},a)})});d.$75=function(a){__p&&__p();if(a==="")return;var c=d.props.currentThreadData;if(!c||c.isLive)return;var e=c.threadID;c=c.cameraPostType;var f=d.props.userInfo.userID;d.$90();d.$15();d.setState({isReplyFocused:!1});b("Focus").set(d.$5);b("promiseDone")(b("CameraPostGraphQLAPI").sendDirectMessageReply(f,e,a,c,!0))};d.$77=function(a){__p&&__p();if(a==="")return;var c=d.props.currentThreadData;if(!c||c.isLive)return;var e=c.threadID;c=c.cameraPostType;var f=d.props.userInfo.userID;d.$90();d.$15();d.setState({isReplyFocused:!1});b("Focus").set(d.$5);b("promiseDone")(b("CameraPostGraphQLAPI").sendDirectStickerReply(f,e,c,a))};d.$78=function(a){__p&&__p();if(a){var c=d.props.currentThreadData;if(!c||c.isLive)return;var e=c.threadID;c=c.cameraPostType;var f=d.props.userInfo.userID;a=a.source.url;d.$90();d.$15();d.setState({isReplyFocused:!1});b("Focus").set(d.$5);b("promiseDone")(b("CameraPostGraphQLAPI").sendDirectGifReply(f,e,c,a))}};d.$95=b("createCancelableFunction")(function(a,c){d.setState({isShowingDeletedToast:!1}),c&&(d.$12=b("setTimeout")(function(){d.$12=void 0,c&&c()},a))});d.$94=b("createCancelableFunction")(function(a,c,e){d.setState({isShowingDeletedToast:!0},function(){d.$11=b("setTimeout")(function(){d.$95(c,e)},a)})});d.$96=b("createCancelableFunction")(function(){d.setState({isShowingNFXToast:!1,selectedNFX:null})});d.$87=b("createCancelableFunction")(function(a){d.setState({isShowingNFXToast:!0},function(){d.$10=b("setTimeout")(function(){d.$96()},a)})});d.$76=function(a){d.$14(!1,!0),d.setState({isReplyFocused:!0})};d.$58=function(a){d.state.isPaused?(d.$15(),d.state.isReplyFocused&&d.setState({isReplyFocused:!1})):d.$14(!1,!0)};d.$51=function(a){b("clearTimeout")(d.$4),d.$4=b("setTimeout")(function(){if(d.state.isPaused)return;d.$14(!0,!1)},t)};d.$52=function(a){__p&&__p();b("clearTimeout")(d.$4);if(a.target.tagName==="INPUT")return;if(d.state.showDarkWashOverlay)return;if(d.state.isPaused)d.$15(),d.state.isReplyFocused&&d.setState({isReplyFocused:!1});else{if(!d.props.enableNavigation)return;if(a.target.className!=="_ide")return;d.state.navDirectionOnClick===l.PREV?d.$89("tap_backward"):d.state.navDirectionOnClick===l.NEXT&&!d.state.isLastThread&&d.$88("tap_forward")}};d.$54=function(a){d.$1=a.target};d.$55=function(a){var c=a.currentTarget.offsetWidth;a=a.nativeEvent.offsetX;var e=m*c;b("Locale").isRTL()&&(a=c-a);a>=0&&a<=e?d.setState({navDirectionOnClick:l.PREV}):a>=c-e&&a<=c?d.setState({navDirectionOnClick:l.NEXT}):d.setState({navDirectionOnClick:l.STAY_HERE})};d.$64=function(a){d.setState({isReactionSendInProgress:!0}),d.$93(a),d.$14(!1,!1)};d.$65=function(){d.setState({isReactionSendInProgress:!1}),d.$15()};d.$15=function(){if(d.state.isPausedByDev)return;b("clearTimeout")(d.$4);b("clearTimeout")(d.$3);d.setState({isPaused:!1,showPausedOverlay:!1,showDarkWashOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1,isWithPanelShown:!1})};c.autoOpenViewersheet&&(d.state=Object.assign({},d.state,{isViewersPanelShown:!0,isWithPanelShown:!1,isPaused:!0,showStoryUI:!0,showPausedOverlay:!0}));return d}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$2=[b("Visibility").addListener(b("Visibility").HIDDEN,function(){if(a.state.isPaused){a.$13=!1;return}a.$13=!0;a.$14(!1,!0)}),b("Visibility").addListener(b("Visibility").VISIBLE,function(){a.$13&&a.$15()})];this.$5&&b("Focus").set(this.$5);(this.props.currentThreadData||this.props.isBucketLive)&&this.$16();this.$17(this.props)};d.UNSAFE_componentWillUpdate=function(a,b){!this.props.allBucketsViewed&&a.allBucketsViewed&&a.onDone(),this.props.bucketID!==a.bucketID?(this.setState(this.$18(a)),this.$17(a)):this.props.currentThreadIndex!==a.currentThreadIndex&&this.$19(a)};d.componentDidUpdate=function(a,c){(this.props.currentThreadData||this.props.isBucketLive)&&this.props.currentThreadID!==a.currentThreadID&&this.$16();a=b("getActiveElement")();!this.state.isReplyFocused&&this.$5&&!this.props.isBucketLive&&(!this.$1||this.$1===a&&a.tagName!=="A"&&a.tagName!=="BUTTON")&&b("Focus").set(this.$5);c.isViewersPanelShown===!0&&this.state.isViewersPanelShown===!1&&this.$20()};d.$20=function(){this.props.currentThreadID&&b("FBStoriesActions").markThreadViewersSeen(this.props.currentThreadID)};d.$19=function(a){a=a.currentThreadData;if(!a)return;a=b("CameraPostMediaHelper").hasObjectionableContent(a.media);this.setState({isPaused:!1,showDarkWashOverlay:!1,showStoryUI:!0,showPausedOverlay:!1,showWarningScreen:a})};d.$17=function(a){var c=this;a.isGroupAdminBucket&&b("FBStoriesNuxHelper").checkIfNuxShouldBeShown(b("FBStoryThreadGroupAdminNux.react").nuxID(),function(){c.$14(!1,!1),c.setState({isGroupAdminNuxShown:!0})})};d.$16=function(){var a=this.props,c=a.storyActionLoggingData;a=a.storyActionSource;b("FBStoriesLoggingHelper").openMediaLog(a,c)};d.$21=function(){b("FBStoriesLoggingHelper").mediaLog(b("FBStoriesLoggingConstants").ACTION_DELETE_MEDIA)};d.$22=function(){b("FBStoriesLoggingHelper").mediaLog(b("FBStoriesLoggingConstants").ACTION_OPEN_SEEN_SUMMARY)};d.render=function(){__p&&__p();var a=this,c="_4tkv"+(this.props.isLandscape&&this.props.isBucketLive?" _fxh":"")+" _24o3"+(this.props.isBucketLive?" _2dnb":""),d=this.props.userInfo.userID,e=this.props.currentThreadData;if(!e)return b("React").createElement("div",{id:"fbStoryContainer",role:"tabpanel",tabIndex:-1,ref:this.$23,className:c});var f=e.media,h=e.cameraPostType,m=b("CameraPostMediaHelper").getType(f),n=b("CameraPostMediaHelper").getWidth(f),p=b("CameraPostMediaHelper").getHeight(f),t=b("CameraPostMediaHelper").isSphericalPhoto(f),u,x,y,z,A,B,C="",D,E,F,G,H={},I,J,K=[],L,M=(this.$24()||b("CameraPostTypesHelper").isGroupStory(h)&&b("GroupFBStoriesGatingConfig").isWWWLightweightReactionsEnabled&&b("GroupFBStoriesGatingConfig").isGroupLightweightReactionEnabled&&!this.props.isOwnThread)&&b("FBStoriesGatingConfig").isLightweightReactionEnabled;if(!e.isLive){var N=e.time,O=e.participants,P=e.bucketOwner,Q=e.threadOwner,R=e.cameraPostSource,S=e.wwwTextFormatMetadata,T=e.textFormatMetadata,U=e.instagramProfileURL,V=e.originalPostStoryAttribution,W=e.withTags,X=e.inlineActivities,Y=e.explicitLocation,Z=e.activityDescription;B=e.threadID;C=e.messageText;D=e.messageRanges;E=e.isPlainText;F=e.backdropImage;G=e.defaultBackground;I=e.linkAttachment;J=e.mediaBackground;K=e.delightRanges;x=b("CameraPostBucketOwnerHelper").getName(P);u=b("CameraPostBucketOwnerHelper").getId(P);var $=b("CameraPostBucketOwnerHelper").isBuySellGroup(P);($&&!this.$24()||b("CameraPostTypesHelper").isGroupStory(h)&&!b("CameraPostBucketOwnerHelper").isViewerGroupMember(P))&&(M=!1);z={rootMessageText:C,wwwTextFormatMetadata:S,textFormatMetadata:T};H={withTags:W,inlineActivities:X,explicitLocation:Y,activityDescription:Z,threadID:B};$=[];this.$25()&&$.push(b("React").createElement(j,{onClick:this.$26,key:"group_pending_stories"},b("React").createElement(b("Image.react"),{src:g("366764")}),this.$27()));this.$28()&&$.push(b("React").createElement(j,{disabled:this.props.isStoryUploading,onClick:this.$29,key:"delete_own_thread"},this.props.isStoryUploading&&b("React").createElement(b("XUISpinner.react"),{size:"small"}),b("React").createElement(b("Image.react"),{src:g("114073")}),this.$30(m)));this.$31()&&$.push(b("React").createElement(j,{onClick:this.$32,key:"delete_story_and_remove_user"},b("React").createElement(b("Image.react"),{src:g("114008")}),this.$33()));if(this.$34()){S=b("CameraPostTypesHelper").isGroupStory(h);$.push(b("React").createElement(j,{onClick:this.$35,key:"mute_bucket_owner"},b("React").createElement(b("Image.react"),{src:g("113496")}),b("React").createElement("span",null,b("React").createElement(b("LineClamp.react"),{className:S?"":"_65ki",lines:1},this.$36(S,x)))))}this.$37()&&$.push(b("React").createElement(j,{onClick:this.$38,key:"report_thread"},b("React").createElement(b("Image.react"),{src:g("372467")}),this.$39()));if(this.props.currentThreadData&&!this.props.currentThreadData.isLive&&this.props.currentThreadData.negativeFeedbackActions){T=this.props.currentThreadData.negativeFeedbackActions;for(var W=0;W<T.length;W++){X=T[W];$.push(b("React").createElement(j,{onClick:this.$40.bind(this,X),key:(Y=X)!=null?Y.negative_feedback_action_type:Y},b("React").createElement(b("Image.react"),{src:(Z=X)!=null?(Z=Z.negative_feedback_action_icon)!=null?Z.uri:Z:Z,width:16,height:16}),(S=X)!=null?(S=S.title)!=null?S.text:S:S))}}this.$41()&&$.push(this.$42());A=b("React").createElement("span",null,b("React").createElement(b("SegmentedProgressBar.react"),{paused:this.state.isPaused,currentSegmentIndex:this.props.currentThreadIndex,currentSegmentPercentComplete:this.props.currentThreadPercentDone,segmentCount:this.props.threadsCount}),b("React").createElement(b("CameraPostReportButton.react"),{canReportThreadToFacebook:this.props.canUserReportThreadToFacebook,threadID:B,onPopoverShow:this.$43,onPopoverHide:this.$44,onPauseByDevClick:this.$45,onPopoverItemClick:this.$46,onPopoverItemFocus:this.$47},$));y=b("React").createElement(b("CameraPostOwnerView.react"),{cameraPostType:h,cameraPostSource:R,isSphericalPhoto:t,participants:O,bucketOwner:P,bucketAlternateName:this.$48(),threadID:B,threadOwner:Q,time:N,instagramProfileURL:U,originalPostStoryAttribution:V});Y=Q.name;Z=Q.id;Y&&Z&&(L=b("React").createElement(b("GroupsRemoveUserWithOtherOptionsDialog.react"),{actorID:d.toString(),contentID:B.toString(),contentOwnerName:Y,contentOwnerID:Z,groupID:b("CameraPostBucketOwnerHelper").getId(e.bucketOwner),onConfirm:this.$49,onHide:this.$50,shouldShowApplyToOtherGroups:!0,shouldShowBlockMember:!0,shouldShowDeclinePendingInvite:!0,shouldShowDeleteComment:!0,shouldShowDeletePoll:!0,shouldShowDeletePost:!0,shouldShowDeleteStory:!0,shouldShowDialog:this.state.isDeleteStoryAndRemoveUserDialogShown,spamSniperDialogType:b("GroupsSpamSniperDialogType").STORY}))}X=200;S=this.state.showPausedOverlay&&!t?b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:w,transitionEnterTimeout:X,transitionLeaveTimeout:X},b("React").createElement(b("ShimButton.react"),{"aria-label":i._("Play"),className:"_ida",onMouseDown:this.$51,onMouseUp:this.$52,onKeyPress:this.$52,tabIndex:0},b("React").createElement("span",{className:"_idd"}))):null;W=b("React").createElement("div",{className:"_6r8a"+(this.state.showDarkWashOverlay===!0?" _6r8b":"")});T=b("CameraPostMedia.react").getMediaSizeBasedOnWindow();$=null;this.$53()&&($=b("React").createElement(b("XUIButton.react"),{className:"_6fkg",image:b("React").createElement(b("Image.react"),{src:g("492049")}),label:i._("Add to Your Story"),onClick:function(){a.props.onDone(),a.props.openComposerForProduction()}}));R=b("React").createElement("span",null,b("React").createElement("div",{id:"fbStoryContainer",role:"tabpanel",tabIndex:0,ref:this.$23,className:c,onFocus:this.$54,onMouseMove:this.$55},b("React").createElement("div",{className:"_24o4"+(M&&!this.state.isReactionSendInProgress?" _6mh7":"")+(this.state.navDirectionOnClick===l.PREV||this.state.navDirectionOnClick===l.NEXT?" _4drj":""),key:B},b("React").createElement(b("CameraPostMedia.react"),{backdropImage:F,isTextInMediaComponentOverflow:this.state.isTextInMediaComponentOverflow,linkAttachment:I,mediaBackground:J,defaultBackground:G,storyMetadata:H,openWithSidePanel:this.$56,onLinkClick:this.$57,media:f,loop:!1,paused:this.state.isPaused,onTimeUpdate:this.props.onTimeUpdate,onMouseDown:t?null:this.$51,onMouseUp:t?null:this.$52,onClick:t?this.$58:null,onDone:this.props.isBucketLive?null:this.$59,onMuteMouseUp:this.props.onClickMute,onTextInMediaComponentOverflow:function(){a.setState({isTextInMediaComponentOverflow:!0})},isBucketLive:this.props.isBucketLive,isMediaMuted:this.props.isStoryMuted,cameraPostType:h,userID:d,threadID:B,showMuteButton:this.state.showStoryUI&&!this.props.isSelectedBucketLiveAndEnded,satpData:z,messageText:C,messageRanges:D,delightRanges:K,isPlainText:E,expandHandler:this.$60,truncateHandler:this.$61,onVideoPaused:function(){a.state.isPaused||a.$14(!1,!0)},showWarningScreen:this.state.showWarningScreen},b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_2up9",transitionName:w,transitionEnterTimeout:r,transitionLeaveTimeout:s},this.$62())),W,S,b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:w,transitionEnterTimeout:r,transitionLeaveTimeout:s},this.state.showStoryUI&&y,this.$63(l.PREV),this.$63(l.NEXT)),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:k,transitionEnterTimeout:o,transitionLeaveTimeout:o},this.state.isShowingSendingToast&&b("React").createElement(b("CameraPostSendingToast.react"),null)),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:k,transitionEnterTimeout:q,transitionLeaveTimeout:q},b("React").createElement(b("CameraPostDeletedToast.react"),{key:this.state.isShowingDeletedToast,visible:this.state.isShowingDeletedToast})),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:k,transitionEnterTimeout:v,transitionLeaveTimeout:v},this.state.isShowingNFXToast&&b("React").createElement(b("CameraPostNFXToast.react"),{nfxPayload:this.state.selectedNFX})),M&&b("React").createElement(b("FBStoriesLightweightReactions.react"),{isAnimating:this.state.isReactionSendInProgress,onReactionClick:this.$64,onReactionEndAnimation:this.$65,onMouseEnter:function(){return a.$14(!1,!0)},onMouseLeave:this.$15,container:this.$5})),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:w,transitionEnterTimeout:r,transitionLeaveTimeout:s},this.state.showStoryUI&&A,u===this.props.userInfo.userID&&this.$53()?b("React").createElement("div",{className:"_4wsa"},$):null,this.$66()),b("React").createElement(b("ImagePositioner.react"),{backgroundSize:"fitWidth",width:T.width,height:T.height,imageWidth:n,imageHeight:p},function(c){var d=c.top,e=c.left,f=c.width;c=c.height;return b("React").createElement(b("FBStoriesInteractiveFeedbackOverlay.react"),{currentThreadID:a.props.currentThreadID,topPx:d,leftPx:e,widthPx:f,heightPx:c,overlays:a.props.threadOverlays,isConsumer:!a.props.isOwnThread,onInteractiveOverlayMouseEnter:function(){return a.$14()},onInteractiveOverlayMouseLeave:a.$15})})),b("React").createElement(b("FBStoriesDeleteConfirmationDialog.react"),{confirmAction:this.$67,hideAction:this.$68,mediaType:m,shown:this.state.isDeleteConfirmationDialogShown}),L,b("React").createElement(b("FBStoriesMuteConfirmationDialog.react"),{shown:this.state.isMuteConfirmationDialogShown,hideAction:this.$69,confirmAction:this.$70,bucketOwnerName:x,cameraPostType:h}),this.$71(),b("React").createElement(b("FBStoryThreadGroupAdminNux.react"),{groupID:u||"",onClose:function(){a.$15(),a.setState({isGroupAdminNuxShown:!1})},onNavigateToGroupSettings:this.props.onCloseRequested,shown:this.state.isGroupAdminNuxShown}),b("React").createElement(b("FBStoriesReportToAdminConfirmationDialog.react"),{confirmAction:this.$72,hideAction:this.$73,mediaType:m,shown:this.state.isReportToAdminConfirmationDialogShown}));if(this.props.isBucketLive)return b("React").createElement("div",{className:"_115q"},R,b("React").createElement(b("FBStoryLiveSidePaneContainer.react"),{onDone:this.props.onDone}));O=null;this.props.isOwnThread&&this.state.isViewersPanelShown?O=b("React").createElement("div",{className:"_115r _397_"+(this.$53()?" withAddButton":"")},b("React").createElement(b("FBStoryThreadViewers.react"),{threadID:this.props.currentThreadID,viewers:this.props.threadViewers,threadOverlays:this.props.threadOverlays,cameraPostType:h})):this.state.isWithPanelShown&&this.props.currentThreadData&&!this.props.currentThreadData.isLive&&this.props.currentThreadData.withTags&&(O=b("React").createElement("div",{className:"_115r"+(this.$24()?" _115s":"")+(this.$53()?" withAddButton":"")},b("React").createElement(b("FBStoryThreadTagsSidePane.react"),{tags:this.props.currentThreadData.withTags.edges,closeWithTagPane:this.$74})));return O?b("React").createElement("div",{className:"_115q"},b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:w,transitionEnterTimeout:r,transitionLeaveTimeout:s},O),R):R};d.$66=function(){if(!this.$24())return null;var a=this.props.userInfo,c=a.userName;a=a.userProfilePic;var d=this.props.currentThreadData;if(!d||d.isLive)return null;var e=d.threadID,f=d.cameraPostType;return b("React").createElement(b("CameraPostSendReplyDraftEditor.react"),{cameraPostType:f,replyProfileName:c,replyProfilePic:a,threadID:e,ownerID:d.bucketOwner.id,focused:this.state.isReplyFocused,onReplyEntered:this.$75,onFocusInput:this.$76,onStickerSelect:this.$77,onGifSelect:this.$78})};d.$83=function(){var a=this;this.$14(!1,!1);this.$21();var b=function(){var b=a.props.currentThreadID,c=a.props.bucketID;a.$15();b&&c&&a.$28()&&a.props.onDeleteCurrentThread()};this.$84(b)};d.$40=function(a){this.setState({isNFXConfirmationDialogShown:a!==null,selectedNFX:a})};d.$71=function(){if(this.state.isNFXConfirmationDialogShown&&this.state.selectedNFX!==null)return b("React").createElement(b("FBStoriesNFXConfirmationDialog.react"),{confirmAction:this.$86,hideAction:this.$85,nfxPayload:this.state.selectedNFX,shown:this.state.isNFXConfirmationDialogShown&&this.state.selectedNFX!==null});else return null};d.$63=function(a){__p&&__p();var c=this;if(!this.state.showStoryUI||this.state.showPausedOverlay||!this.props.enableNavigation)return null;var d=this.props.allowedNavType==="PREV_ONLY"&&a===l.NEXT,e=this.props.allowedNavType==="NEXT_ONLY"&&a===l.PREV;if(e||d)return null;e=function(d){d.preventDefault(),d.stopPropagation(),b("Focus").set(c.$5),c.setState({isTextInMediaComponentOverflow:!1}),a===l.NEXT?c.$88("tap_forward"):c.$89("tap_backward")};d=function(b){b.stopPropagation(),c.setState({navDirectionOnClick:a})};return b("React").createElement("button",{"aria-label":a===l.NEXT?i._("Next Button"):a===l.PREV?i._("Previous Button"):i._("Button"),className:"_24o5"+(a===l.NEXT?" _24o8":"")+(a===l.PREV?" _24o7":"")+(this.state.navDirectionOnClick===a?" _24o6":""),onClick:e,onMouseMove:d,tabIndex:0})};d.$90=function(){this.$91(n)};d.$93=function(a){var c=this.props.currentThreadData;if(!c||c.isLive)return;var d=this.props.userInfo.userID,e=c.threadID;c=c.cameraPostType;b("promiseDone")(b("CameraPostGraphQLAPI").sendLightweightReactionReply(d,e,c,a))};d.$84=function(a){this.$94(p,q,a)};d.$88=function(a){b("FBStoriesLoggingHelper").storyNavigationLog(a),this.setState({isReactionSendInProgress:!1}),this.props.onNextThread()};d.$89=function(a){b("FBStoriesLoggingHelper").storyNavigationLog(a),this.setState({isReactionSendInProgress:!1}),this.props.onPrevThread()};d.$79=function(a){__p&&__p();if(a.getModifiers().any||this.state.isReplyFocused||a.target!==this.$5||!this.props.enableNavigation)return!0;a=b("Event").getKeyCode(a);switch(a){case b("Keys").LEFT:b("Locale").isRTL()?this.$88("tap_forward"):this.$89("tap_backward");return!1;case b("Keys").RIGHT:b("Locale").isRTL()?this.$89("tap_backward"):this.$88("tap_forward");return!1;default:a=String.fromCharCode(a);a.match(/\w/)&&this.setState({isReplyFocused:!0})}return null};d.$80=function(a){__p&&__p();if(a.getModifiers().any||this.state.isReplyFocused||a.target!==this.$5)return!0;var c=b("Event").getKeyCode(a);switch(c){case b("Keys").SPACE:if(this.$9||this.state.isViewersPanelShown||this.state.showDarkWashOverlay)return!1;!this.state.isPaused?this.$14(!1,!0):this.$15();a.preventDefault();a.stopImmediatePropagation();return!1;default:return null}};d.$14=function(a,c){var d=this;this.setState({isPaused:!0,showStoryUI:!0,showPausedOverlay:c});a&&(b("clearTimeout")(this.$3),this.$3=b("setTimeout")(function(){d.setState({showStoryUI:!1})},u))};d.$30=function(a){a=a||"";if(!this.$28())return null;switch(a.toUpperCase()){case"PHOTO":return i._("Delete Photo");case"VIDEO":return i._("Delete Video");default:return i._("Delete")}};d.$34=function(){return(this.props.viewerEntrypoint===b("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY||this.props.viewerEntrypoint===b("FBStoriesViewerEntrypoint").GROUP_MALL||this.props.viewerEntrypoint===b("FBStoriesViewerEntrypoint").PERMANENT_LINK_VIEW)&&!this.props.isUserManagedBucket};d.$25=function(){__p&&__p();if(!this.props.isGroupAdminBucket)return!1;if(!this.props.currentThreadData)return!1;var a=this.props.currentThreadData.bucketOwner;if(!b("CameraPostBucketOwnerHelper").requiresAdminApproval(a))return!1;var c=b("GroupsStoriesAdminConfig").showPendingStoriesInViewerForGroupId;a=b("CameraPostBucketOwnerHelper").getId(a);return!(a in c)||!c[a]?!1:this.props.hasPendingThreads};d.$31=function(){__p&&__p();if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return!1;if(this.props.isOwnThread)return!1;if(!this.props.userInfo.userID)return!1;var a=this.props.currentThreadData;if(!b("CameraPostTypesHelper").isGroupStory(a.cameraPostType))return!1;var c=a.threadOwner;if(!c.id||!c.name)return!1;return c.id&&!b("CameraPostBucketOwnerHelper").isGroupMember(a.bucketOwner,c)?!1:b("CameraPostBucketOwnerHelper").isViewerGroupModerator(a.bucketOwner)||b("CameraPostBucketOwnerHelper").isViewerGroupAdmin(a.bucketOwner)};d.$41=function(){__p&&__p();if(!this.props.isGroupAdminBucket)return!1;if(!b("gkx")("678360"))return!1;if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return!1;var a=this.props.currentThreadData.bucketOwner,c=this.props.currentThreadData.threadOwner.id;if(!c)return!1;return b("CameraPostBucketOwnerHelper").isGroupAdmin(a,c)?!1:!0};d.$42=function(){if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return null;var a=this.props.currentThreadData.bucketOwner,c=this.props.currentThreadData.threadOwner,d=c.id;if(!d)return null;if(!b("CameraPostBucketOwnerHelper").isGroupMember(a,c))return null;c=b("CameraPostBucketOwnerHelper").isMutedFromGroup(a,d);return c?b("React").createElement(j,{onClick:this.props.onUnmuteMemberFromGroup,key:"unmute_member_from_group"},b("React").createElement(b("Image.react"),{src:g("599480")}),this.$97()):b("React").createElement(j,{onClick:this.props.onMuteMemberFromGroup,key:"mute_member_from_group"},b("React").createElement(b("Image.react"),{src:g("599480")}),this.$98())};d.$36=function(a,b){return a?i._("Mute This Group Story"):i._("Mute {bucket_owner_name}",[i._param("bucket_owner_name",b)])};d.$98=function(){return i._("Mute Member")};d.$97=function(){return i._("Unmute Member")};d.$27=function(){return i._("Review Photos\/Videos")};d.$33=function(){return i._("Delete Story and Block Member")};d.$37=function(){__p&&__p();if(this.props.isOwnThread)return!1;if(this.props.isGroupAdminBucket)return!1;var a=this.props.currentThreadData;if(!a||a.isLive)return!1;var c=a.cameraPostType;if(!b("CameraPostTypesHelper").isGroupStory(c))return!1;c=a.bucketOwner;a=a.threadOwner.id;if(!a)return!1;return b("CameraPostBucketOwnerHelper").isGroupAdmin(c,a)?!1:b("gkx")("678361")};d.$39=function(){return i._("Report to Group Admins")};d.$28=function(){return this.props.isUserManagedThread};d.$18=function(a){return{isPaused:!1,isPausedByDev:!1,isReplyFocused:!1,navDirectionOnClick:l.STAY_HERE,isShowingSendingToast:!1,isShowingDeletedToast:!1,isShowingNFXToast:!1,isTextInMediaComponentOverflow:!1,showPausedOverlay:!1,showDarkWashOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1,isDeleteConfirmationDialogShown:!1,isMuteConfirmationDialogShown:!1,isNFXConfirmationDialogShown:!1,isGroupAdminNuxShown:!1,isReactionSendInProgress:!1,isReportToAdminConfirmationDialogShown:!1,isWithPanelShown:!1,selectedNFX:null,isDeleteStoryAndRemoveUserDialogShown:!1,showWarningScreen:!!a.currentThreadData&&b("CameraPostMediaHelper").hasObjectionableContent(a.currentThreadData.media)}};d.$62=function(){var a=this,c=null;this.props.isStoryUploading?c=b("React").createElement(b("FBStoriesOptimisticUploadLabel.react"),null):this.props.isThreadReviewStatusPending?c=this.$99():this.state.showStoryUI&&this.props.canSeeCurrentThreadViewCount&&!this.state.showWarningScreen&&(c=this.$100());var d=null,e=this.props.currentThreadData;b("gkx")("678362")&&e&&!e.isLive&&e.media&&e.media.message&&e.media.message.text?d=b("React").createElement(b("CameraPostMediaCaptionComponent.react"),{currentThreadData:e,expandHandler:this.$82,truncateHandler:this.$61,message:e.media.message,openWithSidePanel:this.$56,onLinkClick:this.$57}):d=b("React").createElement(b("FBStoriesFooterMetadataRenderer.react"),{currentThreadData:this.props.currentThreadData,openWithSidePanel:this.$56,onLinkClick:this.$57});var f=e&&e.media&&this.state.showWarningScreen?b("React").createElement(b("FBStoryWarningScreenButton.react"),{media:e.media,onClick:function(){a.setState({showWarningScreen:!1})}}):null;e=e&&e.media&&!this.state.showWarningScreen?b("React").createElement(b("FBStoryWarningScreenMediaDescription.react"),{media:e.media}):null;return b("React").createElement(b("React").Fragment,null,d,b("React").createElement(b("FBStoriesLinkRenderer.react"),{currentThreadData:this.props.currentThreadData,onLinkClick:this.$57,isTextInMediaComponentOverflow:this.state.isTextInMediaComponentOverflow}),b("React").createElement("div",{className:"_2upa"},c),e,f)};d.$100=function(){return b("React").createElement(b("FBStoriesViewersAnchor.react"),{totalViewers:this.props.threadViewers.totalCount,highlighted:this.props.canOpenCurrentThreadViewerSheet&&this.props.threadViewers.hasNewViewers,onClick:this.$81,disabled:!1,color:"light"})};d.$99=function(){if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return null;var a=this.props.currentThreadData,c=a.bucketOwner,d=a.cameraPostType;a=a.threadOwner;c=c.id===b("CurrentUser").getID();if(b("CameraPostTypesHelper").isBirthdayStory(d))return!c?null:b("React").createElement("span",{className:"_449_"},i._("Only you and {thread_owner_name} can see this.",[i._param("thread_owner_name",a.name)]));else return b("React").createElement("span",{className:"_449_"},i._("Pending Admin Approval"))};d.$48=function(){__p&&__p();if(!this.props.currentThreadData)return null;var a=this.props.currentThreadData,c=a.bucketOwner;a=a.cameraPostType;var d=c.id===b("CurrentUser").getID();if(b("CameraPostTypesHelper").isBirthdayStory(a))if(d)return i._("Your Birthday Story").toString();else return i._("{owner_name}'s Birthday Story",[i._param("owner_name",b("CameraPostBucketOwnerHelper").getName(c))]).toString();return null};d.$24=function(){__p&&__p();if(this.props.shouldDisableReply||this.state.showWarningScreen)return!1;if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return!1;var a=this.props.currentThreadData,c=a.cameraPostType,d=a.bucketOwner;a=a.threadOwner;d=b("CameraPostBucketOwnerHelper").getId(d);if(b("CameraPostTypesHelper").isBirthdayStory(c))return d===b("CurrentUser").getID()&&a.id!==b("CurrentUser").getID();return b("CameraPostTypesHelper").isGroupStory(c)?!1:!0};d.$53=function(){if(!this.props.canShowProduction||!this.props.currentThreadData)return!1;var a=this.props.currentThreadData.cameraPostType;return!b("CameraPostTypesHelper").isBirthdayStory(a)};d.componentWillUnmount=function(){this.$15(),this.$2.forEach(function(a){return a.remove()}),this.$2=[],this.$6&&this.$6.cancel(),this.$7&&this.$7.cancel(),this.state.isViewersPanelShown===!0&&this.$20(),this.$91.cancel(),this.$92.cancel(),this.$94.cancel(),this.$95.cancel(),this.$87.cancel(),this.$96.cancel(),[this.$10,this.$11,this.$12].forEach(function(a){a&&b("clearTimeout")(a)})};return c}(b("React").Component);a.defaultProps={canOpenCurrentThreadViewerSheet:!1,canSeeCurrentThreadViewCount:!1,canShowProduction:!1,canUserReportThreadToFacebook:!1,enableNavigation:!0,isStoryMuted:!1,isStoryUploading:!1,isUserManagedThread:!1,isUserManagedBucket:!1,isGroupAdminBucket:!1,hasPendingThreads:!1,shouldDisableReply:!1,allowedNavType:"NEXT_ONLY",isBucketLive:!1,isLandscape:!1,isSelectedBucketLiveAndEnded:!1,isThreadReviewStatusPending:!1,currentThreadPercentDone:0,threadOverlays:[],storyActionSource:"",onDone:b("emptyFunction"),onClickMute:b("emptyFunction"),onDeleteCurrentThread:b("emptyFunction"),onMuteBucketOwner:b("emptyFunction"),onMuteMemberFromGroup:b("emptyFunction"),onUnmuteMemberFromGroup:b("emptyFunction"),onReportCurrentThreadToAdmin:b("emptyFunction"),onTakeNegativeFeedbackAction:b("emptyFunction"),onNextThread:b("emptyFunction"),onPrevThread:b("emptyFunction"),onTimeUpdate:function(a){},onCloseRequested:b("emptyFunction"),openComposerForProduction:b("emptyFunction")};e.exports=a}),null);
__d("FBStoriesSingleBucketStoryContainer.react",["Arbiter","CameraPostMediaHelper","CurrentUser","ErrorBoundary.react","FBStoriesBucketHelper","FBStoriesCurrentThreadDataHelper","FBStoriesGraphQLAPI","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesSingleBucketStoryDataHelper","FBStoriesThreadHelper","FBStoriesViewerEntrypoint","FBStoryThread.react","React","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={allBucketsViewed:!1,allowedNavType:"NEXT_ONLY",bucket:null,bucketOwner:{id:"",name:"",short_name:"",gender:"",is_viewer_friend:!1,profile_picture:null,is_employee:!1},currentThreadIndex:0,currentThreadData:null,currentThreadID:null,currentThreadPercentDone:0,enableNavigation:!0,friendsSeenCount:0,isBucketLive:!1,isGroupAdminBucket:!1,isPageAdminBucket:!1,isLandscape:!1,isOwnThread:!1,isSelectedBucketLiveAndEnded:!1,isStoryMuted:!1,isStoryUploading:!1,isThreadReviewStatusPending:!1,isUserManagedBucket:!1,isUserManagedThread:!1,nonFriendsSeenCount:0,shouldDisableReply:!1,storyActionLoggingData:null,threads:null,threadsCount:0,threadOverlays:[],threadViewers:{hasNewViewers:!1,friends:[],connections:[],nonFriendsCount:0,totalCount:0,totalNew:0},viewerEntrypoint:b("FBStoriesViewerEntrypoint").PERMANENT_LINK_VIEW},d.$3=function(){__p&&__p();if(!d.state.isUserManagedThread)return;var a=d.state.currentThreadID,c=d.state.currentThreadIndex,e=d.state.threads;if(!e||!a)return;var f=e.filter(function(c){return b("FBStoriesThreadHelper").getId(c)!==a});if(f.length===0)d.props.onHide();else{var g=c===d.state.threadsCount-1;e=g?c:c-1;d.setState({currentThreadIndex:e,enableNavigation:f.length>1,threads:f,threadsCount:f.length},function(){g?d.$8():f.length>1&&d.$7()})}b("FBStoriesGraphQLAPI").deleteStory(b("CurrentUser").getID(),a)},d.$4=function(){var a=d.state.bucketOwner.id;a&&(d.props.onHide(),b("FBStoriesGraphQLAPI").muteBucketOwner(b("CurrentUser").getID(),a,!0))},d.$5=function(){var a=d.state.currentThreadID;if(!a)return;b("FBStoriesGraphQLAPI").reportThreadToAdmin(b("CurrentUser").getID(),a)},d.$6=function(a){var c=d.state.currentThreadID;c&&b("FBStoriesGraphQLAPI").takeNegativeFeedbackAction(b("CurrentUser").getID(),c,a)},d.$7=function(){if(d.state.allowedNavType==="PREV_ONLY"){d.props.onHide();return}if(d.state.isBucketLive)return;var a=d.state.currentThreadIndex+1;a<=d.state.threadsCount-1?d.setState({currentThreadIndex:a,currentThreadPercentDone:0},function(){d.$13()}):d.props.onHide()},d.$8=function(){if(d.state.allowedNavType==="NEXT_ONLY")return;if(d.state.isBucketLive)return;var a=d.state.currentThreadIndex-1;a>=0&&d.setState({currentThreadIndex:a,currentThreadPercentDone:0},function(){d.$13()})},d.$9=function(a){a=Math.min(100,Math.max(a,0));d.setState({currentThreadPercentDone:a})},d.$12=function(){d.setState(function(a){return{isStoryMuted:!a.isStoryMuted}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("FBStoriesLoggingHelper").storyLog(b("FBStoriesLoggingConstants").ACTION_OPEN_STORY,this.props.storyActionSource);b("promiseDone")(b("FBStoriesGraphQLAPI").loadSingleBucketStoryData(this.props.bucketID),function(b){return a.$1(b)},function(b){return a.$2(b)})};d.render=function(){return this.state.isBucketLive?null:b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("FBStoryThread.react"),babelHelpers["extends"]({},this.props,this.state,{onDeleteCurrentThread:this.$3,onMuteBucketOwner:this.$4,onReportCurrentThreadToAdmin:this.$5,onTakeNegativeFeedbackAction:this.$6,onNextThread:this.$7,onPrevThread:this.$8,onTimeUpdate:this.$9,canOpenCurrentThreadViewerSheet:this.$10(),canSeeCurrentThreadViewCount:this.$11(),isStoryMuted:this.state.isStoryMuted,onClickMute:this.$12})))};d.$1=function(a){a=b("FBStoriesSingleBucketStoryDataHelper").getBucketDataFromLoadedObject(a,this.props.currentThreadID);if(a){var c=a.bucket,d=a.bucketOwner,e=a.currentThreadIndex,f=a.isBucketLive,g=a.isThreadReviewStatusPending,h=a.isGroupAdminBucket,i=a.isPageAdminBucket,j=a.isOwnThread,k=a.isSelectedBucketLiveAndEnded,l=a.shouldDisableReply,m=a.threads,n=a.threadsCount;a=a.threadOverlays;this.setState({bucket:c,bucketOwner:d,currentThreadIndex:Math.max(0,e),isBucketLive:f,isThreadReviewStatusPending:g,isGroupAdminBucket:h,isPageAdminBucket:i,isOwnThread:j,isSelectedBucketLiveAndEnded:k,shouldDisableReply:l,threads:m,threadsCount:n,threadOverlays:a});this.$13()}};d.$13=function(){__p&&__p();if(this.state.isBucketLive)return;var a=this.state.bucketOwner,c=this.state.currentThreadIndex,d=this.state.threads;if(!d)return;var e=d[c];if(!e)return;a=b("FBStoriesSingleBucketStoryDataHelper").getCurrentThreadData(e,a);var f=this.state.isOwnThread,g=b("FBStoriesSingleBucketStoryDataHelper").getCurrentThreadViewers(e,this.$11()),h=this.state.bucket,i=!1,j=!1;if(h){i=b("FBStoriesSingleBucketStoryDataHelper").isUserManagedBucket(h,f);f=b("FBStoriesThreadHelper").getOwnerId(e);j=f===b("CurrentUser").getID()||i}f=b("FBStoriesThreadHelper").getStatus(e)==="UPLOADING";var k=this.state.threadsCount,l=b("FBStoriesSingleBucketStoryDataHelper").getAllowedNavigationType(c,k),m=b("FBStoriesCurrentThreadDataHelper").getCameraPostMedia(a),n=b("CameraPostMediaHelper").getHeight(m);m=b("CameraPostMediaHelper").getWidth(m);n=n<m;m=h?h.id:null;var o=(c+1)%k;b("FBStoriesSingleBucketStoryDataHelper").markCurrentThreadAsSeen(m,a);if(h&&h.camera_post_bucket_owner){m=h.camera_post_bucket_owner.id;b("Arbiter").inform("update_next_thread_to_view",{bucketOwnerId:m,threadId:d[o].id});c===d.length-1&&b("Arbiter").inform("has_story_bucket_been_seen",m)}o=null;if(a){d=a.media;m=b("FBStoriesBucketHelper").getThreads(h)[c];m=b("FBStoriesThreadHelper").getSeenCount(m);o={cameraPostType:a.cameraPostType,storyOwnerFbid:String(a.threadOwner.id),storyOwnerType:b("FBStoriesBucketHelper").getLoggingType(h),mediaID:d&&d.id?d.id:"",mediaType:b("CameraPostMediaHelper").getType(d),viewers:m,bucketIndex:0,threadIndex:c,threadID:String(e.id),threadCount:k}}this.setState({allowedNavType:l,currentThreadID:e.id,currentThreadData:a,enableNavigation:k>1,isLandscape:n,isStoryUploading:f,isUserManagedBucket:i,isUserManagedThread:j,storyActionLoggingData:o,threadViewers:g,threadOverlays:a==null?void 0:a.threadOverlays})};d.$2=function(a){};d.$10=function(){return this.state.isOwnThread&&!this.state.isBucketLive};d.$11=function(){return this.state.isOwnThread&&!this.state.isBucketLive||this.state.isPageAdminBucket};return c}(b("React").Component);e.exports=a}),null);