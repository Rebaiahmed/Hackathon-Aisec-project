if (self.CavalryLogger) { CavalryLogger.start_js(["jSZ+7"]); }

__d("AdsCommonLocalMapUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a="#4D6AA4";b="#3b5998";c="#dc3847";d=19;f=1;var g={KILOMETERS_TO_METERS:1e3,MILES_TO_METERS:1609.34,ZOOM_MAX:d,ZOOM_MIN:f,LEAFLET_TARGET_CIRCLE_OPTIONS:{color:a,clickable:!1,fillOpacity:30/255,opacity:95/255,weight:1},LEAFLET_TARGET_MARKER_OPTIONS:{color:"#fff",fillColor:a,fillOpacity:1,opacity:1,radius:4,weight:2},LEAFLET_TARGET_REGION_INCLUDE_OPTIONS:{color:b,clickable:!1,opacity:.5,fillColor:b,fillOpacity:.11,weight:1,noClip:!0},LEAFLET_TARGET_HIGHLIGHT_REGION_INCLUDE_OPTIONS:{color:b,clickable:!1,opacity:.5,fillColor:b,fillOpacity:.22,weight:1,noClip:!0},LEAFLET_TARGET_REGION_EXCLUDE_OPTIONS:{color:c,clickable:!1,opacity:.5,fillColor:c,fillOpacity:.11,weight:1,noClip:!0},LEAFLET_TARGET_HIGHLIGHT_REGION_EXCLUDE_OPTIONS:{color:c,clickable:!1,opacity:.5,fillColor:c,fillOpacity:.22,weight:1,noClip:!0},LEAFLET_TILES_OPTIONS:{maxZoom:d,minZoom:f},LEAFLET_MARKER_ICON_OPTIONS:{iconSize:[25,32],iconAnchor:[12,32]},LEAFLET_MARKER_LOCATION_PIN_ICON_SELECTED_OPTIONS:{iconSize:[22,27],iconAnchor:[11,27]},LEAFLET_MARKER_LOCATION_PIN_ICON_NOT_SELECTED_OPTIONS:{iconSize:[13,13],iconAnchor:[6,13]},getBestZoom:function(a,b,c,d,e){b=a/180*Math.PI;a=Math.min(c,d);c=6e4/800*a/e*Math.cos(b);d=function(a){return Math.log(a)/Math.LN2};a=10+Math.floor(d(c));return a},getRadiusInMeters:function(a,b){return b==="kilometer"?a*g.KILOMETERS_TO_METERS:a*g.MILES_TO_METERS}};e.exports=g}),null);
__d("AdsTargetingLocationInlineMapUtils",["GeoCoordinates","LeafletUtils","LeafletView","LocationConstants","leaflet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e4;function h(a){__p&&__p();var c;a.forEach(function(a){__p&&__p();var d;if(a.center&&a.radius){var e=a.center,f=a.radius;d=b("LeafletUtils").circleBounds(b("LeafletUtils").toLatLng(e),f)}else a.coordinateLists&&a.coordinateLists.size?a.coordinateLists.forEach(function(a){a=a.map(function(a){return b("LeafletUtils").toLatLng(new(b("GeoCoordinates"))(a.latitude,a.longitude))}).toArray();a=b("leaflet").latLngBounds(a);d=void 0===d?a:d.extend(a)}):a.center&&(d=b("LeafletUtils").circleBounds(b("LeafletUtils").toLatLng(a.center),g));void 0===c?c=d:c.extend(d)});return c}function a(a,c){c=h(c);return!c?a:a.setCenter(b("LeafletUtils").fromLatLng(c.getCenter()))}function c(a,c){return new(b("LeafletView"))({center:a.center,zoom:b("LocationConstants").getNextZoomRangeStart(c)})}function d(a){return a.type===b("LocationConstants").CUSTOM_LOCATIONS&&a.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY}f={centerToLocations:a,getAllBounds:h,isLocationForMultiCity:d,zoomToNextRange:c};e.exports=f}),null);
__d("AdsTargetingLocationMapPopup",["cx","FbtResultBase","React","isEmpty","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showingPopoverMenu:!1},d.$1=function(){var a=b("isEmpty")(d.props.menuItems);return b("React").createElement("div",null,b("React").createElement("div",{className:(a?"_2e-k":"")+(a?"":" _37vz")},d.props.label),a?null:d.$2())},d.$5=function(a){return!!(d.props.menuItemsDisabled&&d.props.menuItemsDisabled[a])},d.$3=function(){d.setState({showingPopoverMenu:!d.state.showingPopoverMenu})},d.$6=function(a){d.setState({showingPopoverMenu:!1}),d.props.onMenuItemSelect(a,d.props.location)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_37vy"},this.$1())};d.$2=function(){var a="_37v-";return b("React").createElement("div",{className:"_37v_"},b("React").createElement("button",{className:a,type:"button",value:"locationpopoverbutton",onClick:this.$3},this.props.children),this.$4())};d.$4=function(){var a=this;if(!this.state.showingPopoverMenu)return null;var c=b("nullthrows")(this.props.menuItems),d="_37w0",e=Object.keys(c).map(function(e){var f=a.$6.bind(a,e),g=c[e],h=a.$5(e);return b("React").createElement("button",{className:d,disabled:h,key:e,value:"locationpopoveritem",onClick:f},g)});return b("React").createElement("div",{className:"_37w1"},e)};return c}(b("React").Component);c.propTypes={label:a.oneOfType([a.string,a.instanceOf(b("FbtResultBase"))]).isRequired,location:a.object.isRequired,menuItems:a.object,menuItemsDisabled:a.object,onMenuItemSelect:a.func.isRequired};e.exports=c}),null);
__d("AdsTargetingLocationTypeAliases",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DEFAULT:null,INVOKE_CALLBACK_ON_SINGLE_NODE:null,NONE:null,SHOW_POPUP:null,ZOOM_TO_MARKER:null,ZOOM_TO_NEXT_RANGE:null});c={CLICK_BEHAVIORS:a};e.exports=c}),null);
__d("AdsTargetingLocationInlineMap.react",["cx","fbt","ix","AdsCommonLocalMapUtils","AdsInterfacesLogger","AdsTargetingLocationLoggingEvents","AdsTargetingLocationMapPopup","BanzaiODS","FBLogger","FBOverlayElement.react","FBTilesMap.react","FBTilesMapZoomOverlay__DEPRECATED.react","GeoCoordinates","Image.react","LeafletCircle.react","LeafletCircleMarker.react","LeafletMarker.react","LeafletMultiPolygon.react","LeafletPopup.react","LeafletUtils","LeafletView","LocationConstants","React","SUIBusinessTheme","SUIButton.react","TilesMapConfig","XUIButton.react","areEqual","emptyFunction","immutable","leaflet","performanceNow","AdsTargetingLocationInlineMapUtils","AdsTargetingLocationTypeAliases"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;var j=b("AdsTargetingLocationInlineMapUtils").centerToLocations,k=b("AdsTargetingLocationInlineMapUtils").getAllBounds,l=b("AdsTargetingLocationInlineMapUtils").isLocationForMultiCity,m=b("AdsTargetingLocationInlineMapUtils").zoomToNextRange,n=b("AdsTargetingLocationTypeAliases").CLICK_BEHAVIORS,o=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(0,0),zoom:1}),p=1,q=2,r=b("React").createElement(b("Image.react"),{src:i("22149"),width:"12"}),s=b("React").createElement(b("Image.react"),{src:i("22118"),width:"16"}),t={INCLUDE:h._("Include"),EXCLUDE:h._("Exclude"),DELETE:h._("Delete")},u={DELETE:h._("Delete")},v=0;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={locating:!1,mapOptions:{scrollWheelZoom:!d.props.disableScrollWheelZoom,maxBounds:d.props.maxBounds},size:null,view:d.props.view||o,popupLocationKey:null},d.$1=function(a){__p&&__p();if(a.coordinateLists.size)return null;if(!a.geoLocation.type)return null;var c=b("LocationConstants").getPluralLocationType(a.geoLocation.type);switch(c){case b("LocationConstants").COUNTRIES:return new(b("LeafletView"))({center:a.center,zoom:q});case b("LocationConstants").COUNTRY_GROUPS:return new(b("LeafletView"))({center:a.center,zoom:p});case b("LocationConstants").CUSTOM_LOCATIONS:return a.geoLocation.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY?new(b("LeafletView"))({center:a.center,zoom:a.geoLocation.country?q:p}):null;default:return null}},d.$8=function(a,c){if(c)return a?b("AdsCommonLocalMapUtils").LEAFLET_TARGET_HIGHLIGHT_REGION_EXCLUDE_OPTIONS:b("AdsCommonLocalMapUtils").LEAFLET_TARGET_HIGHLIGHT_REGION_INCLUDE_OPTIONS;else return a?b("AdsCommonLocalMapUtils").LEAFLET_TARGET_REGION_EXCLUDE_OPTIONS:b("AdsCommonLocalMapUtils").LEAFLET_TARGET_REGION_INCLUDE_OPTIONS},d.$9=function(a,b,c){if(b)if(a)return c?"_3ag7":"_s6h";else return c?"_3ag8":"_s6i";else if(a)return c?"_3ag9":"_3i44";else return c?"_3aga":"_3i45"},d.$4=function(a,c,e,f){__p&&__p();var g=d.props.menuItems||(d.props.onlyInclusion?u:t),h;d.props.menuItems||(h=c?{INCLUDE:!1,EXCLUDE:!0,DELETE:!1}:{INCLUDE:!0,EXCLUDE:!1,DELETE:!1});var i={};c||d.props.excludedLocations.forEach(function(a,c){c=a.geoLocation;c.type===b("LocationConstants").CUSTOM_LOCATIONS&&c.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY&&(i[c.key]=!0)});a.forEach(function(a,j){__p&&__p();if(!c&&i[a.geoLocation.key]===!0)return;var k=d.state.popupLocationKey===a.geoLocation.key;j=d.props.highlightLocations.contains(a)||k;var m=a.geoLocation.type===b("LocationConstants").CUSTOM_LOCATIONS&&a.geoLocation.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY,o=(j?"h":"")+(c?"-":"")+a.geoLocation.key,p=d.$8(c,j),q=[],r=b("React").createElement(b("LeafletPopup.react"),{options:{autoPan:!1,closeButton:!1,className:"_1l0n",maxWidth:500}},a.popup||b("React").createElement(b("AdsTargetingLocationMapPopup"),{label:d.$10(a.geoLocation),location:a.geoLocation,menuItems:l(a.geoLocation)?u:g,menuItemsDisabled:h,onMenuItemSelect:d.props.onPopupMenuItemSelect}));r=k||[n.DEFAULT,n.SHOW_POPUP].includes(d.props.clickBehavior)?r:void 0;var s=d.$11(a),t=function(a){k&&a.target.openPopup()},v=function(b){d.state.popupLocationKey!==a.geoLocation.key&&d.setState({popupLocationKey:a.geoLocation.key})},w=function(b){d.state.popupLocationKey===a.geoLocation.key&&k&&d.setState({popupLocationKey:null})},x=function(a){d.props.showPopupOnHover&&v(a)},y=function(a){d.props.showPopupOnHover&&w(a)};m=a.icon||b("leaflet").divIcon(babelHelpers["extends"]({},b("AdsCommonLocalMapUtils").LEAFLET_MARKER_ICON_OPTIONS,{className:d.$9(c,j,m)}));q.push(b("React").createElement(b("LeafletMarker.react"),{coordinates:a.center,eventHandlers:{add:t,click:s,mouseover:x,mouseout:y,popupclose:w,popupopen:v},key:"m"+o,options:{clickable:!0,icon:m,zIndexOffset:j?1e3:0},popup:r}));t=!1;a.coordinateLists&&a.coordinateLists.size&&(q.push(b("React").createElement(b("LeafletMultiPolygon.react"),{coordinateLists:a.coordinateLists,key:"p"+o,options:p})),t=!0);s=a.circleCenter||a.center;s&&a.radius&&(q.push(b("React").createElement(b("LeafletCircle.react"),{center:s,key:"c"+o,options:p,radius:a.radius})),t||q.push(b("React").createElement(b("LeafletCircleMarker.react"),{center:s,key:"cm"+o,options:b("AdsCommonLocalMapUtils").LEAFLET_TARGET_MARKER_OPTIONS})));j?f.push.apply(f,q):e.push.apply(e,q)})},d.$10=function(a){return a.name},d.$12=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ZOOM_IN},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var a=d.state.view;a.zoom<b("TilesMapConfig").ZOOM_RANGE.MAX&&d.$3(a.setZoom(a.zoom+1))},d.$13=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ZOOM_OUT},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var a=d.state.view;a.zoom>b("TilesMapConfig").ZOOM_RANGE.MIN&&d.$3(a.setZoom(a.zoom-1))},d.$14=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ZOOM_TO_FIT},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var a=d.$2(d.state.size,d.props.locations.union(d.props.excludedLocations));d.$3(a)},d.$15=function(){var a=d.state.view.zoom<b("TilesMapConfig").ZOOM_RANGE.MAX?d.$12:void 0,c=d.state.view.zoom>b("TilesMapConfig").ZOOM_RANGE.MIN?d.$13:void 0,e=!d.props.disableCollapseButton&&b("React").createElement("div",{className:"_qh2"},b("React").createElement(b("XUIButton.react"),{className:"_3-8j",image:s,label:h._("click to collaps map"),labelIsHidden:!0,type:"button",onClick:d.props.onCollapseMap}));return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"zoomControls",vertical:"top"},b("React").createElement("div",null,e,b("React").createElement(b("FBTilesMapZoomOverlay__DEPRECATED.react"),{className:"_3-8j",onZoomIn:a,onZoomOut:c}),b("React").createElement("div",{className:"_qh4"},b("React").createElement(b("XUIButton.react"),{className:"_qh5",image:r,label:h._("Zoom To Fit"),labelIsHidden:!0,type:"button",onClick:d.$14}))))},d.$16=function(){return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"addLocation",vertical:"bottom"},b("React").createElement("div",null,b("React").createElement(b("SUIButton.react"),{disabled:d.props.addingLocation,icon:b("React").createElement(b("Image.react"),{src:d.props.addLocationMode===b("LocationConstants").INCLUDE?i("22123"):i("22122")}),isDepressed:d.state.locating,label:h._("Drop Pin"),style:{marginBottom:"12px",marginRight:"12px"},theme:b("SUIBusinessTheme"),type:"button",onClick:d.$17})))},d.$7=function(){return d.props.hideAllControls?null:d.props.enableDropPin?[d.$15(),d.$16()]:[d.$15()]},d.$5=function(a){d.state.locating&&(d.setState({locating:!1}),d.props.onAddLocationFromMap(new(b("GeoCoordinates"))(a.latlng.lat,b("LeafletUtils").wrapLongitude(a.latlng.lng))))},d.$17=function(a){d.setState({locating:!d.state.locating})},d.$2=function(a,c){if(!a||0===c.size)return d.state.view;c=k(c);if(!c)return d.state.view;c=b("LeafletUtils").fitBounds(c,{width:a.x,height:a.y},{zoomRange:[0,20]});return c},d.$6=function(a){var b=d.state.view;d.props.centerLocations&&d.props.centerLocations.size>0?b=j(d.state.view,d.props.centerLocations):(d.props.locations.size>0||d.props.excludedLocations.size>0||d.props.fitLocations.size>0)&&(b=d.$2(a,d.props.locations.union(d.props.excludedLocations).union(d.props.fitLocations)));d.$3(b,a)},d.$3=function(a,b){b=b||d.state.size;d.props.view?d.setState({size:b}):d.setState({view:a,size:b});d.props.onViewChange&&d.props.onViewChange(a,b)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){v=b("performanceNow")()};d.componentDidMount=function(){var a,c=Math.floor(b("performanceNow")()-v);b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_MOUNTING_TIME,data:(a={},a.scenario_duration=c,a)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);b("BanzaiODS").bumpEntityKey("ads_targeting_location","geo_location_map_mounting_time",c)};d.UNSAFE_componentWillUpdate=function(a,c){b("performanceNow")()};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();if(!b("LeafletUtils").areViewEqual(a.view,this.props.view))this.setState({view:a.view||o});else if(null!==this.state.size&&a.fitLocations.size>0&&(a.forceUpdate||!b("areEqual")(a.fitLocations,this.props.fitLocations))){var c=null;if(a.fitLocations.size==1){var d=a.fitLocations.first();c=this.$1(d)}c||(c=this.$2(this.state.size,a.fitLocations));this.$3(c)}b("areEqual")(a.maxBounds,this.props.maxBounds)||b("FBLogger")("ads").warn("AdsTargetingLocationInlineMap does not support changing maxBounds");a.view&&!a.onViewChange&&b("FBLogger")("ads").warn("AdsTargetingLocationInlineMap expects `onViewChange` if given `view`");a.mapHasFocus||this.setState({popupLocationKey:null})};d.shouldComponentUpdate=function(a,c){a=a.addLocationMode!==this.props.addLocationMode||a.enableDropPin!==this.props.enableDropPin||!b("areEqual")(a.highlightLocations,this.props.highlightLocations)||!b("areEqual")(a.locations,this.props.locations)||!b("areEqual")(a.excludedLocations,this.props.excludedLocations)||!b("areEqual")(a.mapHasFocus,this.props.mapHasFocus)||!b("LeafletUtils").areViewEqual(a.view,this.props.view);c=c!==void 0&&(c.size!=this.state.size||!b("LeafletUtils").areViewEqual(c.view,this.state.view)||c.popupLocationKey!==this.state.popupLocationKey||c.locating!=this.state.locating);return a||c};d.render=function(){var a=null;this.state.locating?a=this.props.addLocationMode===b("LocationConstants").INCLUDE?"_3aio":"_3aiw":a="_3-cr";var c=[],d=[];this.$4(this.props.locations,!1,c,d);this.$4(this.props.excludedLocations,!0,c,d);return b("React").createElement(b("FBTilesMap.react"),{className:a,eventHandlers:{click:this.$5},options:this.state.mapOptions,showReportButton:!1,showZoomControls:!1,view:this.state.view,onSizeSettled:this.$6,onViewChange:this.$3},this.$7(),c,d)};d.$18=function(a){var c=a.meta;if(!this.props.onSingleNodeClick||b("immutable").Set.isSet(c)&&c.size!==1){this.$19(a);return}a=b("immutable").Set.isSet(c)?c.first():c;this.props.onSingleNodeClick(a.getID())};d.$11=function(a){var c=this;switch(this.props.clickBehavior){case n.DEFAULT:case n.ZOOM_TO_MARKER:return function(){return c.$20(a)};case n.ZOOM_TO_NEXT_RANGE:return function(){return c.$19(a)};case n.INVOKE_CALLBACK_ON_SINGLE_NODE:return function(){return c.$18(a)};default:return b("emptyFunction")}};d.$20=function(a){a=this.$2(this.state.size,b("immutable").Set.of(a));this.$3(a)};d.$19=function(a){this.$3(m(a,this.state.view.zoom))};return c}(b("React").Component);c.propTypes={addLocationMode:a.string.isRequired,addingLocation:a.bool,clickBehavior:a.oneOf(Object.keys(n)),disableCollapseButton:a.bool,disableScrollWheelZoom:a.bool,enableDropPin:a.bool.isRequired,excludedLocations:a.instanceOf(b("immutable").Set).isRequired,fitLocations:a.instanceOf(b("immutable").Set).isRequired,forceUpdate:a.bool,hideAllControls:a.bool,highlightLocations:a.instanceOf(b("immutable").Set).isRequired,locations:a.instanceOf(b("immutable").Set).isRequired,mapHasFocus:a.bool,maxBounds:a.instanceOf(b("leaflet").LatLngBounds),menuItems:a.object,onlyInclusion:a.bool.isRequired,showPopupOnHover:a.bool,view:a.instanceOf(b("LeafletView")),onAddLocationFromMap:a.func.isRequired,onCollapseMap:a.func.isRequired,onPopupMenuItemSelect:a.func.isRequired,onViewChange:a.func};c.defaultProps={clickBehavior:n.DEFAULT,mapHasFocus:!0};e.exports=c}),null);
__d("adsTargetingLocationGetUniqueKey",["LocationConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=null!==a.radius&&void 0!==a.radius?a.radius:b("LocationConstants").RadiusInfo.getDefaultRadius(a.type);c=a.type+"_"+a.key+"_"+c;if(a.type!==b("LocationConstants").CUSTOM_LOCATIONS||a.custom_type!==b("LocationConstants").CUSTOM_TYPE_MULTI_CITY)return c;var d=null!==a.min_population&&void 0!==a.min_population?a.min_population:"";a=null!==a.max_population&&void 0!==a.max_population?a.max_population:"";return c+"_"+d+"_"+a}e.exports=a}),null);
__d("adsTargetingLocationGetHashCode",["adsTargetingLocationGetUniqueKey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();a=b("adsTargetingLocationGetUniqueKey")(a);var c=0;if(a.length==0)return c;for(var d=0;d<a.length;d++){var e=a.charCodeAt(d);c=(c<<5)-c+e;c&=c}return c}e.exports=a}),null);
__d("adsTargetingLocationGetRadiusInMeters",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=1609.34;function a(a,b){return b==="kilometer"?a*g:a*h}e.exports=a}),null);
__d("AdsTargetingLocationMapMetaRecord",["cx","AdsCommonLocalMapUtils","GeoCoordinates","LeafletUtils","LocationConstants","adsTargetingLocationGetHashCode","adsTargetingLocationGetRadiusInMeters","adsTargetingLocationGetUniqueKey","immutable","leaflet","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={},i=new Map(),j=350,k=Object.freeze({NONE:0,SHIFT_LEFT:-1,SHIFT_RIGHT:1});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.hashCode=function(){var a=b("adsTargetingLocationGetUniqueKey")(this.geoLocation);i.has(a)||i.set(a,b("adsTargetingLocationGetHashCode")(this.geoLocation));return b("nullthrows")(i.get(a))};c.fromGeoLocations=function(a,c){var d=this,e=[];b("LocationConstants").locationTypes.forEach(function(b){(a[b]||[]).forEach(function(a){if(a.latitude==null||a.longitude==null)return;e.push(d.fromGeoLocationCached(a,c(a)))})});return b("immutable").Set(e)};c.fromGeoLocationCached=function(a,c){var d=b("adsTargetingLocationGetUniqueKey")(a);h[d]||(h[d]=this.fromGeoLocation(a,c));return h[d]};c.fromGeoLocation=function(a,d){var e=[],f=0,g=new(b("GeoCoordinates"))(Number(a.latitude),Number(a.longitude));a.polygons&&a.polygons.length&&(e=this.generatePolygonLists(a.polygons));a.radius&&a.distance_unit&&(f=b("adsTargetingLocationGetRadiusInMeters")(a.radius,a.distance_unit));return new c({center:g,coordinateLists:b("immutable").List(e),geoLocation:a,icon:null,meta:d,name:a.name,popup:null,radius:f})};c.generatePolygonLists=function(a){__p&&__p();var c=this,d=b("leaflet").latLngBounds(a),e=k.NONE;if(d.getEast()-d.getWest()>j){var f=this.boundsForShiftedMultipolygons(a,k.SHIFT_LEFT),g=this.boundsForShiftedMultipolygons(a,k.SHIFT_RIGHT);d=Math.abs(d.getEast()-d.getWest());var h=Math.abs(f.getEast()-f.getWest()),i=Math.abs(g.getEast()-g.getWest());(h<=d||i<=d)&&(Math.abs(f.getCenter().lng)<=Math.abs(g.getCenter().lng)?e=k.SHIFT_LEFT:e=k.SHIFT_RIGHT)}var l=[];a.forEach(function(a){var d=[];a.forEach(function(a){d.push(new(b("GeoCoordinates"))(Number(a.lat),c.shiftLongitude(b("LeafletUtils").wrapLongitude(Number(a.lng)),e)))});l.push(b("immutable").List(d))});return l};c.shiftLongitude=function(a,b){b===k.SHIFT_LEFT?a=a<0?a:a-360:b===k.SHIFT_RIGHT&&(a=a>0?a:a+360);return a};c.boundsForShiftedMultipolygons=function(a,c){var d=this,e=[];a.forEach(function(a){var f=[];a.forEach(function(a){f.push(b("LeafletUtils").toLatLng(new(b("GeoCoordinates"))(Number(a.lat),d.shiftLongitude(b("LeafletUtils").wrapLongitude(Number(a.lng)),c))))});e.push(f)});return b("leaflet").latLngBounds(e)};c.iconForSingleLocationSelected=function(){return b("leaflet").divIcon(babelHelpers["extends"]({},b("AdsCommonLocalMapUtils").LEAFLET_MARKER_LOCATION_PIN_ICON_SELECTED_OPTIONS,{className:"_tl9"}))};c.iconForSingleLocationNotSelected=function(){return b("leaflet").divIcon(babelHelpers["extends"]({},b("AdsCommonLocalMapUtils").LEAFLET_MARKER_LOCATION_PIN_ICON_NOT_SELECTED_OPTIONS,{className:"_tla"}))};return c}(b("immutable").Record({center:null,circleCenter:null,coordinateLists:null,geoLocation:null,icon:null,meta:null,name:null,popup:null,radius:0}));e.exports=a}),null);
__d("AdsTargetingLocationMapRecord",["AdsTargetingLocationMapMetaRecord","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromGeoLocation=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocation(a,void 0)};c.fromGeoLocationCached=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocationCached(a,void 0)};c.fromGeoLocations=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocations(a,b("emptyFunction"))};return c}(b("AdsTargetingLocationMapMetaRecord"));e.exports=a}),null);
__d("MediaEffectPageFetcherQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"LinkedField",alias:null,name:"polygons",storageKey:null,args:null,concreteType:"Polygon",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"points",storageKey:null,args:null,concreteType:"Location",plural:!0,selections:[{kind:"ScalarField",alias:"lat",name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:"lng",name:"longitude",args:null,storageKey:null}]}]},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"MediaEffectPageFetcherQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Page",selections:[{kind:"LinkedField",alias:null,name:"geo_polygon",storageKey:null,args:null,concreteType:"MultiPolygon",plural:!1,selections:[c]}]}]}]},operation:{kind:"Operation",name:"MediaEffectPageFetcherQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d,{kind:"InlineFragment",type:"Page",selections:[{kind:"LinkedField",alias:null,name:"geo_polygon",storageKey:null,args:null,concreteType:"MultiPolygon",plural:!1,selections:[c,d]}]}]}]},params:{operationKind:"query",name:"MediaEffectPageFetcherQuery",id:"1749336131764185",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MediaEffectHubStrings",["fbt","FXEntMediaEffectStatus","FXMediaEffectType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g._("Draft"),i=g._("Scheduled"),j=g._("Active"),k=g._("Inactive"),l=g._("Completed"),m=g._("Archived"),n=g._("Disabled"),o=g._("Not Submitted"),p=g._("Approved"),q=g._("In Review"),r=g._("Not Approved"),s=g._("Cancelled"),t=g._("Update In Review"),u=g._("Update Not Approved");a=g._("Ongoing");var v=g._("Frame"),w=g._("Generic Effect"),x=g._("Mask"),y=g._("Reactive Effect"),z=g._("Profile Frame"),A=g._("Filter"),B=g._("Style Effect"),C=g._("Underlay");c={ongoing:a,getTextForEffectType:function(a){__p&&__p();switch(a){case b("FXMediaEffectType").FRAME:return v;case b("FXMediaEffectType").GENERIC:return w;case b("FXMediaEffectType").MSQRD_MASK:return x;case b("FXMediaEffectType").PARTICLE_EFFECT:return y;case b("FXMediaEffectType").PROFILE_FRAME:return z;case b("FXMediaEffectType").SHADER_FILTER:return A;case b("FXMediaEffectType").STYLE_TRANSFER:return B;case b("FXMediaEffectType").UNDERLAY:return C}return""},getTextForStatus:function(a){return this.getTextForMinorStatus(a)||this.getTextForMajorStatus(a)},getStatusText:function(a){__p&&__p();switch(a){case b("FXEntMediaEffectStatus").DRAFT:return h;case b("FXEntMediaEffectStatus").SCHEDULED:return i;case b("FXEntMediaEffectStatus").ACTIVE:return j;case b("FXEntMediaEffectStatus").INACTIVE:return k;case b("FXEntMediaEffectStatus").COMPLETED:return l;case b("FXEntMediaEffectStatus").ARCHIVED:return m;case b("FXEntMediaEffectStatus").DISABLED:return n;case b("FXEntMediaEffectStatus").NOT_REVIEWED:return o;case b("FXEntMediaEffectStatus").APPROVED:return p;case b("FXEntMediaEffectStatus").NOT_APPROVED:return r;case b("FXEntMediaEffectStatus").IN_REVIEW:return q;case b("FXEntMediaEffectStatus").UPDATE_REJECTED:return u;case b("FXEntMediaEffectStatus").UPDATE_IN_REVIEW:return t;case b("FXEntMediaEffectStatus").CANCELLED:return s}return""},getStatusTooltipText:function(a){switch(a){case b("FXEntMediaEffectStatus").ACTIVE:return g._("Active effects are visible to the public");case b("FXEntMediaEffectStatus").INACTIVE:return g._("Inactive effects are not visible to the public");default:return null}}};e.exports=c}),null);
__d("MediaEffectStatusText.react",["MediaEffectHubStrings","React"],(function(a,b,c,d,e,f){"use strict";a=function(a){a=a.status;if(!a)return null;a=b("MediaEffectHubStrings").getStatusText(a);return!a?null:b("React").createElement("span",null,a)};e.exports=a}),null);
__d("MediaEffectContentStatusTitle.react",["cx","FXEntMediaEffectStatus","MediaEffectHubStrings","MediaEffectStatusText.react","React","Tooltip.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=(a={},a[b("FXEntMediaEffectStatus").NOT_REVIEWED]="_2l85",a[b("FXEntMediaEffectStatus").IN_REVIEW]="_2l87",a[b("FXEntMediaEffectStatus").NOT_APPROVED]="_2l89",a[b("FXEntMediaEffectStatus").DISABLED]="_2l89",a[b("FXEntMediaEffectStatus").CANCELLED]="_2l89",a[b("FXEntMediaEffectStatus").APPROVED]="_2l7j",a[b("FXEntMediaEffectStatus").UPDATE_IN_REVIEW]="_2l87",a[b("FXEntMediaEffectStatus").UPDATE_REJECTED]="_2l89",a);c=function(a){var c=a.className;a=a.status;var d=a?h[a]:null,e=b("MediaEffectHubStrings").getStatusTooltipText(a);return b("React").createElement("div",{className:b("joinClasses")("_2l7i",c)},d!=null&&d!==""&&b("React").createElement("span",{className:b("joinClasses")("_3-8_ _4ppg _2l7h",d)}),b("React").createElement("span",{className:"_4ppi"},e!=null?b("React").createElement(b("Tooltip.react"),{tooltip:e},b("React").createElement(b("MediaEffectStatusText.react"),{status:a})):b("React").createElement(b("MediaEffectStatusText.react"),{status:a})))};e.exports=c}),null);
__d("MediaEffectDateTimePicker.react",["cx","AbstractDateTimePicker.react","AdsTimezone","Arbiter","BUIDatePicker.react","BUITimeInput.react","DatePickerRestraints","LocalDateTime","MediaEffectError.react","MediaEffectWebdriverIDs","React","ReactComponentWithPureRenderMixin","ReactDOM","SUIAudiencePlatformTheme","SUITimeZoneSelector.react","Timezone","immutable","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("immutable").Map;d=b("React").createClass({displayName:"MediaEffectDateTimePicker",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{dateRestraints:a.arrayOf(a.func),disabled:a.bool,height:a.oneOf(["short","tall"]),layout:a.oneOf(["one-line","two-line","three-line"]),onChange:a.func.isRequired,showTimezoneName:a.bool,timestamp:a.number,timezone:a.string,showTimezoneSelector:a.bool,dataTestID:a.string},getDefaultProps:function(){return{dateRestraints:n(),disabled:!1,height:"short",layout:"one-line",showTimezoneName:!0,showTimezoneSelector:!0,timezone:j(),dataTestID:null}},render:function(){__p&&__p();var a=this,c=this.props,d=c.className;c.dateRestraints;var e=c.disabled,f=c.height,g=c.layout;c.onChange;var i=c.showTimezoneName,j=c.showTimezoneSelector,k=c.timestamp,l=c.timezone,n=c.error,p=c.dataTestID;c=babelHelpers.objectWithoutPropertiesLoose(c,["className","dateRestraints","disabled","height","layout","onChange","showTimezoneName","showTimezoneSelector","timestamp","timezone","error","dataTestID"]);var q=m(l),r=h(k,q);l=b("joinClasses")("_6feb"+(e?" _6fec":""),d);d=g==="two-line"&&i&&202||!i&&110||"auto";j=j?b("React").createElement(o,{className:"_6fed"+(g==="one-line"?" _6fee":"")+(g!=="one-line"?" _6fej":""),"data-testid":b("MediaEffectWebdriverIDs").DATETIME_PICKER_TIMEZONE,isDisabled:e,onChange:function(b){return a._handleChange(r,b.get("timeZoneId"))},shouldShowSubtitleInSelector:i,style:!k&&{display:"none"},value:b("SUITimeZoneSelector.react").VALUE({timeZoneId:q}),width:d}):null;return b("React").createElement(b("MediaEffectError.react"),{error:n},b("React").createElement("div",{className:l,"data-testid":p},b("React").createElement(b("AbstractDateTimePicker.react"),babelHelpers["extends"]({},c,{className:"_6fek",classNames:{innerWrapper:"_6fel"},datePicker:b("React").createElement(b("BUIDatePicker.react"),{className:"_6fem","data-testid":b("MediaEffectWebdriverIDs").DATETIME_PICKER_DATE,dateRestraints:this._dateRestraints(q),height:f,placeholder:"mm/dd/yyyy"}),disabled:e,onChange:function(b){return a._handleChange(b,q)},timeInput:b("React").createElement(b("BUITimeInput.react"),{className:"_6fen"+(g!=="three-line"?" _6fee":"")+(g==="three-line"?" _6fej":""),"data-testid":b("MediaEffectWebdriverIDs").DATETIME_PICKER_TIME,height:f}),timezoneID:q,value:r})),j))},_handleChange:function(a,b){a=i(a,b);b=k(b);this.props.onChange({timestamp:a,timezone:b})},_dateRestraints:function(a){return this.props.dateRestraints&&this.props.dateRestraints.map(function(b){return function(c){return b(c&&c.toDateTime(a).toDate())}})}});function h(a,c){try{if(a&&c!=null)return b("LocalDateTime").fromInstant(Math.round(a/1e3),c);else return null}catch(a){return null}}function i(a,b){try{if(a&&b!=null){a=a.toInstant(b)*1e3;b=a-a%6e4;return b}else return null}catch(a){return null}}function j(){var a=b("Timezone").getEnvironmentTimezoneID();return k(a)}function k(a){a=b("AdsTimezone").names[a];return a}var l=c(b("AdsTimezone").names.map(function(a,b){return[a,b]}));function m(a){a=l.get(a);return a||l.get("America/Los_Angeles")}function n(){var a=new Date();a=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()));var c=new Date(+a),d=new Date(+a);c.setFullYear(a.getFullYear()-5);d.setFullYear(a.getFullYear()+5);return[b("DatePickerRestraints").enforceDateIsNoEarlierThan(c),b("DatePickerRestraints").enforceDateIsNoLaterThan(d)]}var o=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.componentDidMount=function(){b("ReactDOM").findDOMNode(this.refs.timezoneSelector).addEventListener("focusout",function(a){return window.setTimeout(function(a){return b("Arbiter").inform("reflow")})})};d.render=function(){return b("React").createElement(b("SUITimeZoneSelector.react"),babelHelpers["extends"]({},this.props,{ref:"timezoneSelector",theme:b("SUIAudiencePlatformTheme")}))};return a}(b("React").PureComponent);d.timezoneIDForName=m;e.exports=d}),null);
__d("MediaEffectMultiLocationTargeting.react",["MediaEffectWebdriverIDs","React","TargetingContainer.react","AdsCommonTargetingLocationEditorV2"],(function(a,b,c,d,e,f){"use strict";var g=[{component:b("AdsCommonTargetingLocationEditorV2"),customProperties:{initiallyShowMap:!0,showLocationTypeSelector:!1,disableCollapseButton:!0,hideEditorLabel:!0,disallowElectoralDistricts:!0,disallowPoliticalDistricts:!0}}],h={oneColumn:!0};a=function(a){var c=a.updateMultiLocationValue;a=a.adsTargeting;return b("React").createElement("div",{"data-testid":b("MediaEffectWebdriverIDs").MULTILOCATION_SELECTOR},b("React").createElement(b("TargetingContainer.react"),{config:g,defaultApiSpec:a.value,extraData:h,onTargetingSpecChange:c}))};e.exports=a}),null);
__d("MediaEffectCard.react",["cx","React","Tooltip.react","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_-jo",c=null;if(!this.props.hideHeader){var d=this.props.tooltip?b("React").createElement(b("Tooltip.react"),{className:"_3-99",tooltip:this.props.tooltip},b("React").createElement("span",{className:"_3o-c"})):null;c=b("React").createElement(b("XUICardHeaderTitle.react"),null,this.props.title,d)}return b("React").createElement(b("XUICard.react"),{className:b("joinClasses")(a,this.props.className),style:{border:"none"}},b("React").createElement(b("XUICardHeader.react"),{className:"_-jp",type:"primary"},c),b("React").createElement(b("XUICardSection.react"),{background:"transparent",className:b("joinClasses")("_-jq _190n",this.props.sectionClassName),style:{borderTop:"none"}},this.props.children))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaEffectLocationRadiusSlider.react",["cx","fbt","FBSimpleSlider.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=.05,j=100;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChange(Math.max(i,Math.min(j,Math.pow(10,a))))},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_13tx",this.props.className);return b("React").createElement("div",{className:a},b("React").createElement("span",{className:"_13ty"},h._("Adjust Radius:")),b("React").createElement("span",{className:"_13uk"},b("React").createElement(b("FBSimpleSlider.react"),{disabled:this.props.disabled,max:Math.log10(j),min:Math.log10(i),onChange:this.$1,value:Math.log10(this.props.radius)})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaEffectPageFetcher",["Promise","GraphAPI","RelayFBEnvironment","RelayModern","MediaEffectPageFetcherQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").fetchQuery;b("RelayModern").graphql;var h=function(){return b("MediaEffectPageFetcherQuery.graphql")};a={fetchLocation:function(a){return b("Promise").all([b("GraphAPI")("2.5",e.id).object("page",a).get({fields:"name, location, place_type"}),g(b("RelayFBEnvironment"),h,{id:a})]).then(function(a){var b,c=a[0];a=(a=a[1])!=null?(a=a.node)!=null?(a=a.geo_polygon)!=null?a.polygons:a:a:a;((b=c)!=null?b.location:b)&&a&&(c.location.geo_polygon=a.map(function(a){return(a=a)!=null?a.points:a}));return c})}};e.exports=a}),null);
__d("MediaEffectWarnings.react",["cx","List.react","React","XUICard.react","XUICardSection.react","XUINotice.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.message,d=a.items,e=a.use,f=a.className;a=a.onDismiss;d=d&&d.length>0?b("React").createElement(b("List.react"),{border:"none",className:"_45qz"},d.map(function(a,c){return b("React").createElement("li",{key:c},a.trim())})):null;return b("React").createElement(b("XUICard.react"),{className:b("joinClasses")(f,"_2ex6 _3-8x _190n")},b("React").createElement(b("XUICardSection.react"),{background:"transparent",className:"_190n",style:{borderTop:"none"}},b("React").createElement(b("XUINotice.react"),{onDismiss:a,use:e||"warn"},c,d)))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaEffectRejectedReviewResult.react",["cx","fbt","FXEntMediaEffectStatus","Link.react","MediaEffectWarnings.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.reasons,c=this.props,d=c.isTrailingReview;c=c.reviewStatus;if(!a||a.length===0)return null;a=a.map(function(a){return typeof a==="string"?a.trim():a}).filter(Boolean);var e=b("React").createElement(b("Link.react"),{href:"/legal/camera_effects_platform_terms",target:"_blank"},h._("terms")),f=b("React").createElement(b("Link.react"),{href:"/legal/camera_effects_platform_policies",target:"_blank"},h._("policies."));c=c===b("FXEntMediaEffectStatus").APPROVED||c===b("FXEntMediaEffectStatus").UPDATE_IN_REVIEW||c===b("FXEntMediaEffectStatus").UPDATE_REJECTED?h._("The update to your effect was not approved"):d?h._("Your effect distribution stopped because it doesn't meet the Spark AR {terms} and {policies}",[h._param("terms",e),h._param("policies",f)]):h._("Your effect wasn't approved because it doesn't meet the Spark AR {terms} and {policies}",[h._param("terms",e),h._param("policies",f)]);return b("React").createElement("div",{className:"_2-ox"},b("React").createElement(b("MediaEffectWarnings.react"),{className:"_21ks",items:a,message:c}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("WebGLShaderMainCode",["WebGLShaderCode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.toString=function(){return this.getAllCodeFragments().join("\n\n")};return b}(b("WebGLShaderCode"));e.exports=a}),null);
__d("WebGLVertexShaderCode",["WebGLShaderMainCode"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("WebGLShaderMainCode"));e.exports=a}),null);
__d("WebGLShaderColorTransformCode",["WebGLShaderLibraryCode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getCodeFragment=function(){return"\n    precision mediump float;\n\n    float e = 1e-10;\n\n    vec3 hue2rgb(float h) {\n      return clamp(\n        vec3(\n          abs(h*6.0 - 3.0) - 1.0,\n          2.0 - abs(h*6.0 - 2.0),\n          2.0 - abs(h*6.0 - 4.0)\n        ),\n        0.0,\n        1.0\n      );\n    }\n\n    vec3 hsl2rgb(vec3 hsl) {\n      vec3 rgb = hue2rgb(hsl.x);\n      float c = (1.0 - abs(2.0*hsl.z - 1.0)) * hsl.y;\n      return (rgb - 0.5)*c + hsl.z;\n    }\n\n    vec3 rgb2hsl(vec3 rgb){\n      vec3 hsl = vec3(0.0);\n      float minrgb = min(rgb.r, min(rgb.g, rgb.b));\n      float maxrgb = max(rgb.r, max(rgb.g, rgb.b));\n      hsl.z = (maxrgb + minrgb) / 2.0;\n      if (maxrgb > minrgb) {\n        float rgbrange = maxrgb - minrgb;\n        hsl.y = (\n          hsl.z < .05 ?\n          rgbrange / (maxrgb + minrgb) :\n          rgbrange / (2.0 - (maxrgb + minrgb))\n        );\n        if (rgb.r == maxrgb) {\n          hsl.x = (rgb.g - rgb.b) / rgbrange / 6.0;\n        } else if (rgb.g == maxrgb) {\n          hsl.x = (2.0 + (rgb.b - rgb.r) / rgbrange) / 6.0;\n        } else {\n          hsl.x = (4.0 + (rgb.r - rgb.g) / rgbrange) / 6.0;\n        }\n\n        hsl.x = mod(hsl.x, 1.0);\n      }\n      return hsl;\n    }\n    "};return b}(b("WebGLShaderLibraryCode"));e.exports=a}),null);
__d("WebGLShaderEaseThroughCode",["WebGLShaderLibraryCode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getCodeFragment=function(){return"\n    precision mediump float;\n\n    // A clamped linear interpolation through (0, 0) and (x0, y0)\n    float easeThroughZero(float x0, float y0, float x) {\n      return clamp(x * y0 / x0, 0.0, 1.0);\n    }\n\n    // A clamped linear interpolation through (1, 1) and (x0, y0)\n    float easeThroughOne(float x0, float y0, float x) {\n      return clamp(\n        x * (y0 - 1.0) / (x0 - 1.0) + (x0 - y0) / (x0 - 1.0),\n        0.0, 1.0\n      );\n    }\n\n    // A clamped linear interpolation through (x0, y0) of gradient 1\n    float easeThroughCorner(float x0, float y0, float x) {\n      return clamp(\n        x + (y0 - x0),\n        0.0, 1.0\n      );\n    }\n\n    // A hyperbolic interpolation through (0, 0), (x0, y0) and (1, 1)\n    // Doesn't behave too stably when x0 or y0 is close to 0 or 1\n    float easeThroughRawHyperbola(float x0, float y0, float x) {\n      float a = x0 / y0 * (y0 - 1.0) / (x0 - 1.0) ;\n      return x / (a * (1.0 - x) + x);\n    }\n\n    // The above hyperbolic interpolation patched for individual degenerative\n    // values of x0 and y0.\n    float easeThroughHyperbola(float x0, float y0, float x) {\n      if (x0 == 1.0 || (y0 == 1.0 && x0 != 0.0)) {\n        return easeThroughZero(x0, y0, x);\n      }\n      if (x0 == 0.0 || y0 == 0.0) {\n        return easeThroughOne(x0, y0, x);\n      }\n      return easeThroughRawHyperbola(x0, y0, x);\n    }\n\n    // A hybrid blend of the above, preferring:\n    //  linear through (1, 1) when (x0, y0) close to (0, 0)\n    //  linear through (0, 0) when (x0, y0) close to (1, 1)\n    //  linear of gradient 1 when (x0, y0) close to (0, 1) or (1, 0)\n    //  hyperbolic interpolation when (x0, y0) fairly central\n    float easeThrough(float x0, float y0, float x) {\n      float zeroWeight = x0 * y0;\n      zeroWeight *= zeroWeight;\n      float oneWeight = (1.0 - x0) * (1.0 - y0);\n      oneWeight *= oneWeight;\n      float cornerWeight = y0 * (1.0 - x0) + x0 * (1.0 - y0);\n      cornerWeight *= cornerWeight;\n      float hyperbolaWeight = 16.0 * x0 * y0 * (1.0 - x0) * (1.0 - y0);\n      return (\n        zeroWeight * easeThroughZero(x0, y0, x) +\n        oneWeight * easeThroughOne(x0, y0, x) +\n        cornerWeight * easeThroughCorner(x0, y0, x) +\n        hyperbolaWeight * easeThroughHyperbola(x0, y0, x)\n      ) / (zeroWeight + oneWeight + cornerWeight + hyperbolaWeight);\n    }\n    "};return b}(b("WebGLShaderLibraryCode"));e.exports=a}),null);
__d("AssetHorizontalAlignmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LEFT:"left",RIGHT:"right",CENTER:"center"})}),null);
__d("AssetVerticalAlignmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TOP:"top",BOTTOM:"bottom",CENTER:"center"})}),null);
__d("FXEntMediaEffectSubmissionStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PENDING:0,APPROVED:1,DENIED:2,DRAFT:3,ARCHIVED:4,DISABLED:5,TAKEN_DOWN:6,SUBMITTED_UNREVIEWED:7})}),null);
__d("MediaEffectArtValidationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MEDIA_EFFECT_ART_VALID:"media_effect_art_valid",MEDIA_EFFECT_ART_IS_EVENT_COVER_PHOTO:"media_effect_art_is_event_cover_photo",MEDIA_EFFECT_ART_IS_PHOTO:"media_effect_art_is_photo"})}),null);
__d("MediaEffectErrorCode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HAS_DISALLOWED_LOCATION:"has_disallowed_location"})}),null);
__d("MediaEffectFrameDistributionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAMERA:"camera",PROFILE_PICTURE:"profile_picture"})}),null);
__d("MediaEffectGenerationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO_GENERATED:"auto_generated",USER_GENERATED:"user_generated",UNKNOWN:""})}),null);
__d("MediaEffectHubViewTab",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANALYTICS:"analytics",ARSTUDIO:"arstudio",HOME:"home",LEARN:"learn",MANAGE:"manage",TEMPLATES:"templates",JOIN:"join",INVITE:"invite",DOCS:"docs"})}),null);
__d("PlaceSearchSuppressionVersion",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS_TARGETING:"ads_targeting_suppression",CAMERA_LOCATION_FRAMES:"camera_location_frames_suppression",GRAPH_API:"graph_api_suppression",MAIN_TYPEAHEAD:"main_typeahead_suppression",QUERIED_CHECKIN:"queried_checkin_suppression",QUERYLESS_CHECKIN:"queryless_checkin_suppression",SET_SEARCH:"set_search_suppression",SUGGESTIFIER:"suggestifier_suppression",HEALTH_BLOOD_DONATION_HOSPITALS:"health_blood_donation_hospitals_suppression",PROD_SUPPRESSION:"prod_suppression"})}),null);
__d("XGetUploadedImageForFrameEditorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/media_effect/swipeable_frame/image/upload_poll/",{job_id:{type:"String",required:!0}})}),null);
__d("XMediaEffectAsyncEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/effects/activation/submit/",{media_effect_id:{type:"FBID"}})}),null);
__d("XMediaEffectAsyncFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/async_load/",{owner_ids:{type:"FBIDSet"},creator_ids:{type:"FBIDSet"},inspirations_category_names:{type:"EnumSet",enumType:null},statuses:{type:"EnumSet",enumType:null},submission_statuses:{type:"EnumSet",enumType:null},types:{type:"EnumSet",enumType:null},effect_destinations:{type:"EnumSet",enumType:null},creation_date_range:{type:"StringToIntMap"},effect_id:{type:"FBID"},effect_name:{type:"String"},effect_tag:{type:"String"},whitelisted:{type:"Bool",defaultValue:!1},gatekeeper:{type:"String"}})}),null);
__d("XMediaEffectAsyncFetchEffectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/async_load_effect/",{effect_ids:{type:"FBIDSet"}})}),null);
__d("XMediaEffectAsyncFontController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/async_fonts/",{font_ids:{type:"FBIDSet"}})}),null);
__d("XMediaEffectAsyncTemplateLoadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/template/load/",{template_id:{type:"FBID"}})}),null);
__d("XMediaEffectFBOnlySettingsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/targeting/",{flow_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMediaEffectHubController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/{?tab}/",{tab:{type:"Enum",defaultValue:"manage",enumType:1},ref:{type:"Enum",enumType:1},flow_type:{type:"Enum",enumType:1},create:{type:"Bool",defaultValue:!1}})}),null);
__d("XMediaEffectTagsDataSourceController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/media_effect/datasource/tags/",{is_featured:{type:"Bool",defaultValue:!1},value:{type:"String"}})}),null);
__d("XMediaEffectValidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/media_effect/datasource/validation/",{name:{type:"String"},description:{type:"String"}})}),null);
__d("XProcessImageBackgroundController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/media_effect/swipeable_frame/image/process_background/",{image_id:{type:"FBID",required:!0}})}),null);
__d("XRemoveImageBackgroundController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/media_effect/swipeable_frame/image/remove_background/",{image_id:{type:"FBID",required:!0}})}),null);
__d("XUploadImageForFrameEditorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/media_effect/swipeable_frame/image/upload/",{})}),null);
__d("XUploadImageWithConversionForFrameEditorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/media_effect/swipeable_frame/image/upload_convert/",{})}),null);